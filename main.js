import{a as gn}from"./chunk-BD5ZDHQ2.js";import{a as Cn}from"./chunk-2U5IY5BU.js";import{a as fe,b as sn,c as _e,d as yn,e as xn}from"./chunk-AUFS7DT4.js";import{a as Ce,b as wt}from"./chunk-JRXYYQKR.js";import{a as He}from"./chunk-UB43MPFN.js";import{$ as nn,A as Oe,Aa as Y,B as Te,Ba as bt,C as Hi,Ca as Ne,D as qi,Da as vt,E as $i,Ea as re,F as Qi,Fa as un,G as pt,Ga as je,H as mt,Ha as hn,I as Wi,Ia as yt,J as ye,Ja as fn,K,Ka as Ct,L as Yi,La as _n,M as Zi,Ma as Ge,N as ge,Na as be,O as gt,Oa as bn,P as ae,Pa as vn,Q as Xi,Qa as xt,R as J,Ra as Ue,S as z,T as Ki,U as ut,V as Ee,W as Ji,X as Ke,Y as At,Z as en,_ as tn,a as ki,aa as ue,b as pe,ba as on,c as A,ca as ee,d as Oi,da as te,e as Ti,ea as an,f as Ei,fa as rn,ga as De,h as k,ha as he,i as Di,ia as ln,j as Fi,ja as cn,k as Ri,ka as ht,l as Ai,la as O,m as zi,ma as Fe,n as Vi,na as Re,o as lt,oa as Ae,p as ct,pa as ze,q as dt,qa as Ve,r as Li,ra as Le,s as Bi,sa as Be,t as me,ta as dn,ua as pn,v as Ni,w as ji,wa as ft,x as Gi,xa as mn,y as ke,ya as _t,z as Ui,za as W}from"./chunk-UAVY4GVK.js";import{$a as fi,$b as Ie,A as Xt,Aa as di,Ac as rt,B as Kt,Ba as pi,Bc as Si,C as Jt,Ca as mi,D as X,Da as it,Dc as st,F as ei,Fa as q,Ga as gi,Gb as $,H as ti,Hb as N,Ib as j,J as ii,Jb as xi,K as Dt,Kb as wi,Kc as Ii,La as ui,Lb as Mi,M as ni,Mb as d,Nb as r,Ob as s,Oc as Q,Pb as b,Qb as Pe,Rb as Se,Tb as v,Tc as oe,Uc as Xe,V as Ft,X as M,Xb as u,Ya as nt,Yb as g,Zb as ne,_ as oi,_a as hi,_b as G,a as H,ab as c,ac as F,b as $e,ba as se,bc as S,ca as le,cc as I,d as V,db as _i,ea as B,eb as bi,fa as ai,fb as x,ga as _,gb as vi,gc as U,ha as ri,hb as yi,hc as ot,ia as si,ib as Ci,ic as E,j as L,k as Wt,kc as p,l as Yt,lc as T,ma as h,mb as w,mc as R,na as f,nb as ce,oa as We,ob as Rt,oc as Pi,p as Zt,pa as li,qa as ie,qb as Ye,ra as we,rb as y,t as Qe,tb as P,u as Et,ub as de,uc as ve,vb as Me,vc as at,wa as tt,xa as ci,zc as Ze}from"./chunk-JVZZNEUL.js";var eo="@",to=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(ie);loadingSchedulerFn=_(io,{optional:!0});_engine;constructor(t,e,i,o,l){this.doc=t,this.delegate=e,this.zone=i,this.animationType=o,this.moduleImpl=l}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-RFYCI3L4.js").then(i=>i),e;return this.loadingSchedulerFn?e=this.loadingSchedulerFn(t):e=t(),e.catch(i=>{throw new oi(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(t,e){let i=this.delegate.createRenderer(t,e);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new zt(i);return e?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let m=l.createRenderer(t,e);o.use(m),this.scheduler??=this.injector.get(ci,null,{optional:!0}),this.scheduler?.notify(10)}).catch(l=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(e){vi()};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),zt=class{delegate;replay=[];\u0275type=1;constructor(a){this.delegate=a}use(a){if(this.delegate=a,this.replay!==null){for(let t of this.replay)t(a);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(a,t){return this.delegate.createElement(a,t)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}get destroyNode(){return this.delegate.destroyNode}appendChild(a,t){this.delegate.appendChild(a,t)}insertBefore(a,t,e,i){this.delegate.insertBefore(a,t,e,i)}removeChild(a,t,e){this.delegate.removeChild(a,t,e)}selectRootElement(a,t){return this.delegate.selectRootElement(a,t)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,t,e,i){this.delegate.setAttribute(a,t,e,i)}removeAttribute(a,t,e){this.delegate.removeAttribute(a,t,e)}addClass(a,t){this.delegate.addClass(a,t)}removeClass(a,t){this.delegate.removeClass(a,t)}setStyle(a,t,e,i){this.delegate.setStyle(a,t,e,i)}removeStyle(a,t,e){this.delegate.removeStyle(a,t,e)}setProperty(a,t,e){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(a,t,e)),this.delegate.setProperty(a,t,e)}setValue(a,t){this.delegate.setValue(a,t)}listen(a,t,e,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(a,t,e,i)),this.delegate.listen(a,t,e,i)}shouldReplay(a){return this.replay!==null&&a.startsWith(eo)}},io=new B("");function wn(n="animations"){return Ci("NgAsyncAnimations"),ri([{provide:_i,useFactory:(a,t,e)=>new to(a,t,e,n),deps:[we,Di,de]},{provide:ui,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Mn=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=w({type:a,selectors:[["app-default-loader"]],decls:2,vars:0,consts:[[1,"loader-backdrop"],[1,"spinner"]],template:function(i,o){i&1&&(r(0,"div",0),b(1,"div",1),s())},dependencies:[k],styles:[".loader-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;display:flex;align-items:center;justify-content:center;z-index:2000}.spinner[_ngcontent-%COMP%]{width:64px;height:64px;border:6px solid #e0e0e0;border-top-color:#152047;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]});let n=a;return n})();var Pn=(()=>{let a=class a{constructor(){this.counter=0,this.loadingSubject=new Wt(!1),this.loading$=this.loadingSubject.asObservable()}show(){this.counter++,this.counter===1&&this.loadingSubject.next(!0)}hide(){this.counter!==0&&(this.counter--,this.counter===0&&this.loadingSubject.next(!1))}};a.\u0275fac=function(i){return new(i||a)},a.\u0275prov=se({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();function oo(n,a){n&1&&b(0,"app-default-loader")}function ao(n,a){n&1&&(Pe(0),b(1,"router-outlet"),Se())}function ro(n,a){n&1&&(r(0,"div",3),b(1,"mat-spinner",4),s())}var In=(()=>{let a=class a{constructor(e,i,o,l,m){this.titleService=e,this.metaService=i,this.authService=o,this.loader=l,this.router=m,this.initialized=!1}ngOnInit(){return V(this,null,function*(){yield this.authService.loadInitialData(),this.initialized=!0,this.navSub=this.router.events.pipe(X(o=>o instanceof dt)).subscribe(()=>{window.scrollTo({top:0,behavior:"auto"})}),this.titleService.setTitle("Privium - Marketplace Privado de Barrios Cerrados"),this.metaService.addTags([{name:"description",content:"Privium es el marketplace exclusivo para barrios cerrados y countries. Compra y vende productos de forma segura dentro de tu comunidad privada."},{name:"keywords",content:"marketplace, barrios cerrados, countries, compra venta, privium, seguridad"},{name:"author",content:"Privium"},{name:"robots",content:"index, follow"},{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"UTF-8"},{property:"og:title",content:"Privium - Marketplace Privado de Barrios Cerrados"},{property:"og:description",content:"Marketplace exclusivo para barrios cerrados. Compra y vende de forma segura en tu comunidad."},{property:"og:type",content:"website"},{property:"og:url",content:"https://privium.com"},{property:"og:image",content:"https://privium.com/assets/images/og-image.jpg"},{property:"og:site_name",content:"Privium"},{property:"og:locale",content:"es_AR"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:"Privium - Marketplace Privado"},{name:"twitter:description",content:"Marketplace exclusivo para barrios cerrados. Compra y vende de forma segura."},{name:"twitter:image",content:"https://privium.com/assets/images/twitter-image.jpg"},{name:"geo.region",content:"AR-B"},{name:"geo.placename",content:"Buenos Aires, Argentina"},{name:"geo.position",content:"-34.6118;-58.3960"},{name:"ICBM",content:"-34.6118, -58.3960"}]);let e={"@context":"https://schema.org","@type":"WebSite",name:"Privium",url:"https://privium.com",description:"Marketplace exclusivo para barrios cerrados y countries",potentialAction:{"@type":"SearchAction",target:"https://privium.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},i=document.createElement("script");i.type="application/ld+json",i.text=JSON.stringify(e),document.head.appendChild(i)})}ngOnDestroy(){this.navSub?.unsubscribe()}};a.\u0275fac=function(i){return new(i||a)(x(ct),x(lt),x(he),x(Pn),x(me))},a.\u0275cmp=w({type:a,selectors:[["app-root"]],decls:5,vars:5,consts:[["loading",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"app-init-loader"],["diameter","90"]],template:function(i,o){if(i&1&&(y(0,oo,1,0,"app-default-loader",1),Ze(1,"async"),y(2,ao,2,0,"ng-container",2)(3,ro,2,0,"ng-template",null,0,st)),i&2){let l=U(4);d("ngIf",rt(1,3,o.loader.loading$)),c(2),d("ngIf",o.initialized)("ngIfElse",l)}},dependencies:[Bi,te,ee,k,A,Oi,Mn],styles:[".app-init-loader[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#dfe0d5}"]});let n=a;return n})();var so=["tooltip"],Tn=20;var En=new B("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(ie);return()=>At(n,{scrollThrottle:Tn})}});function lo(n){let a=_(ie);return()=>At(a,{scrollThrottle:Tn})}var co={provide:En,deps:[],useFactory:lo};function po(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var mo=new B("mat-tooltip-default-options",{providedIn:"root",factory:po});var kn="tooltip-panel",On=Ui({passive:!0}),go=8,uo=8,ho=24,fo=200,Dn=(()=>{class n{_elementRef=_(q);_ngZone=_(de);_platform=_(ke);_ariaDescriber=_(Wi);_focusMonitor=_(Te);_dir=_(gt);_injector=_(ie);_viewContainerRef=_(yi);_animationsDisabled=ye();_defaultOptions=_(mo,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=_o;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=K(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=K(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Oe(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Oe(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new L;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=go}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(M(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([e,i])=>{t.removeEventListener(e,i,On)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(e);this._detach(),this._portal=this._portal||new Ki(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(M(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let l=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&l._origin instanceof q)return this._overlayRef;this._detach()}let e=this._injector.get(ut).getAncestorScrollContainers(this._elementRef),i=`${this._cssClassPrefix}-${kn}`,o=en(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return o.positionChanges.pipe(M(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=tn(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,i]:i,scrollStrategy:this._injector.get(En)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(M(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(M(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(M(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&l.keyCode===27&&!mt(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(M(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();e.withPositions([this._addOffset(H(H({},i.main),o.main)),this._addOffset(H(H({},i.fallback),o.fallback))])}_addOffset(t){let e=uo,i=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=i?-e:e:t.originX==="end"&&(t.offsetX=i?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,i;e=="above"||e=="below"?i={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?i={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(i={originX:"end",originY:"center"});let{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,i;e=="above"?i={overlayX:"center",overlayY:"bottom"}:e=="below"?i={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?i={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Me(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:i,originY:o}=t,l;if(e==="center"?this._dir&&this._dir.value==="rtl"?l=i==="end"?"left":"right":l=i==="start"?"left":"right":l=e==="bottom"&&o==="top"?"above":"below",l!==this._currentPosition){let m=this._overlayRef;if(m){let C=`${this._cssClassPrefix}-${kn}-`;m.removePanelClass(C+this._currentPosition),m.addPanelClass(C+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let e=t.targetTouches?.[0],i=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",e=>{let i=e.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([e,i])=>{this._elementRef.nativeElement.addEventListener(e,i,On)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let e=this._injector.get(we).elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;e!==i&&!i.contains(e)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,i=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!e.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||Me({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Rt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,i){e&2&&E("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),_o=(()=>{class n{_changeDetectorRef=_(Q);_elementRef=_(q);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=ye();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new L;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>ho&&t.width>=fo}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(e.classList.remove(t?o:i),e.classList.add(t?i:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let l=getComputedStyle(e);(l.getPropertyValue("animation-duration")==="0s"||l.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(e&1&&F(so,7),e&2){let o;S(o=I())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,i){e&1&&u("mouseleave",function(l){return i._handleMouseLeave(l)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,i){if(e&1){let o=v();r(0,"div",1,0),u("animationend",function(m){return h(o),f(i._handleAnimationEnd(m))}),r(2,"div",2),p(3),s()()}e&2&&(E("mdc-tooltip--multiline",i._isMultiline),d("ngClass",i.tooltipClass),c(3),T(i.message))},dependencies:[ki],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})(),Fn=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ce({type:n});static \u0275inj=le({providers:[co],imports:[Qi,nn,ae,ae,Ke]})}return n})();function bo(n,a){if(n&1&&(r(0,"mat-option",17),p(1),s()),n&2){let t=a.$implicit;d("value",t),c(),R(" ",t," ")}}function vo(n,a){if(n&1){let t=v();r(0,"mat-form-field",14)(1,"mat-select",16,0),u("selectionChange",function(i){h(t);let o=g(2);return f(o._changePageSize(i.value))}),wi(3,bo,2,2,"mat-option",17,xi),s(),r(5,"div",18),u("click",function(){h(t);let i=U(2);return f(i.open())}),s()()}if(n&2){let t=g(2);d("appearance",t._formFieldAppearance)("color",t.color),c(),d("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),c(2),Mi(t._displayedPageSizeOptions)}}function yo(n,a){if(n&1&&(r(0,"div",15),p(1),s()),n&2){let t=g(2);c(),T(t.pageSize)}}function Co(n,a){if(n&1&&(r(0,"div",3)(1,"div",13),p(2),s(),N(3,vo,6,7,"mat-form-field",14),N(4,yo,2,1,"div",15),s()),n&2){let t=g();c(),$("id",t._pageSizeLabelId),c(),R(" ",t._intl.itemsPerPageLabel," "),c(),j(t._displayedPageSizeOptions.length>1?3:-1),c(),j(t._displayedPageSizeOptions.length<=1?4:-1)}}function xo(n,a){if(n&1){let t=v();r(0,"button",19),u("click",function(){h(t);let i=g();return f(i._buttonClicked(0,i._previousButtonsDisabled()))}),We(),r(1,"svg",8),b(2,"path",20),s()()}if(n&2){let t=g();d("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("disabled",t._previousButtonsDisabled())("tabindex",t._previousButtonsDisabled()?-1:null),$("aria-label",t._intl.firstPageLabel)}}function wo(n,a){if(n&1){let t=v();r(0,"button",21),u("click",function(){h(t);let i=g();return f(i._buttonClicked(i.getNumberOfPages()-1,i._nextButtonsDisabled()))}),We(),r(1,"svg",8),b(2,"path",22),s()()}if(n&2){let t=g();d("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("disabled",t._nextButtonsDisabled())("tabindex",t._nextButtonsDisabled()?-1:null),$("aria-label",t._intl.lastPageLabel)}}var Pt=(()=>{class n{changes=new L;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(t,e,i)=>{if(i==0||e==0)return`0 of ${i}`;i=Math.max(i,0);let o=t*e,l=o<i?Math.min(o+e,i):o+e;return`${o+1} \u2013 ${l} of ${i}`};static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mo(n){return n||new Pt}var Po={provide:Pt,deps:[[new di,new pi,Pt]],useFactory:Mo},So=50;var Io=new B("MAT_PAGINATOR_DEFAULT_OPTIONS"),xe=(()=>{class n{_intl=_(Pt);_changeDetectorRef=_(Q);_formFieldAppearance;_pageSizeLabelId=_(pt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Yt(1);color;get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(e=>Xe(e,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new P;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let t=this._intl,e=_(Io,{optional:!0});if(this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),e){let{pageSize:i,pageSizeOptions:o,hidePageSize:l,showFirstLastButtons:m}=e;i!=null&&(this._pageSize=i),o!=null&&(this._pageSizeOptions=o),l!=null&&(this.hidePageSize=l),m!=null&&(this.showFirstLastButtons=m)}this._formFieldAppearance=e?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let e=this.pageIndex*this.pageSize,i=this.pageIndex;this.pageIndex=Math.floor(e/t)||0,this.pageSize=t,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:So),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(t){let e=this.pageIndex;t!==e&&(this.pageIndex=t,this._emitPageEvent(e))}_buttonClicked(t,e){e||this._navigate(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Xe],length:[2,"length","length",Xe],pageSize:[2,"pageSize","pageSize",Xe],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",oe],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",oe],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",oe]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){e&1&&(r(0,"div",1)(1,"div",2),N(2,Co,5,4,"div",3),r(3,"div",4)(4,"div",5),p(5),s(),N(6,xo,3,5,"button",6),r(7,"button",7),u("click",function(){return i._buttonClicked(i.pageIndex-1,i._previousButtonsDisabled())}),We(),r(8,"svg",8),b(9,"path",9),s()(),li(),r(10,"button",10),u("click",function(){return i._buttonClicked(i.pageIndex+1,i._nextButtonsDisabled())}),We(),r(11,"svg",8),b(12,"path",11),s()(),N(13,wo,3,5,"button",12),s()()()),e&2&&(c(2),j(i.hidePageSize?-1:2),c(3),R(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),c(),j(i.showFirstLastButtons?6:-1),c(),d("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("disabled",i._previousButtonsDisabled())("tabindex",i._previousButtonsDisabled()?-1:null),$("aria-label",i._intl.previousPageLabel),c(3),d("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("disabled",i._nextButtonsDisabled())("tabindex",i._nextButtonsDisabled()?-1:null),$("aria-label",i._intl.nextPageLabel),c(3),j(i.showFirstLastButtons?13:-1))},dependencies:[ht,mn,pn,ge,Dn],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})(),St=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ce({type:n});static \u0275inj=le({providers:[Po],imports:[z,_t,Fn,xe]})}return n})();var An=(()=>{let a=class a{constructor(e){this.http=e,this.baseUrl=`${an.apiBaseUrl}/residence`,this.proofsEndpoint=`${this.baseUrl}/proofs`}getResidenceProofs(){return this.http.post(this.proofsEndpoint,{})}};a.\u0275fac=function(i){return new(i||a)(ai(Ai))},a.\u0275prov=se({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();var Oo=()=>[10];function To(n,a){n&1&&(r(0,"div",6),b(1,"mat-spinner"),s())}function Eo(n,a){if(n&1){let t=v();r(0,"app-result-warn",7),u("action",function(){h(t);let i=g();return f(i.closeWarn())}),s()}if(n&2){let t=a.ngIf;d("status",t.status)("title",t.title)("subtitle",t.subtitle)("description",t.description)}}function Do(n,a){n&1&&(r(0,"h2"),p(1," No hay pruebas de residencia pendientes "),s())}function Fo(n,a){if(n&1&&(r(0,"p",22),p(1),s()),n&2){let t=g().$implicit;c(),T(t.proofMessage)}}function Ro(n,a){if(n&1){let t=v();r(0,"button",23),u("click",function(){h(t);let i=g().$implicit,o=g(2);return f(o.downloadProof(i))}),r(1,"mat-icon"),p(2,"download"),s(),p(3," Descargar archivo "),s()}}function Ao(n,a){n&1&&b(0,"mat-spinner",24)}function zo(n,a){n&1&&(r(0,"span"),p(1,"Aprobar"),s())}function Vo(n,a){n&1&&b(0,"mat-spinner",24)}function Lo(n,a){n&1&&(r(0,"span"),p(1,"Rechazar"),s())}function Bo(n,a){if(n&1){let t=v();r(0,"mat-card",12)(1,"mat-card-header",13)(2,"h2"),p(3),s(),r(4,"h3"),p(5),s()(),b(6,"mat-divider"),r(7,"div",14)(8,"div",15),y(9,Fo,2,1,"p",16)(10,Ro,4,0,"button",17),s(),r(11,"div",18)(12,"button",19),u("click",function(){let i=h(t).$implicit,o=g(2);return f(o.handleDecision(i,!0))}),y(13,Ao,1,0,"mat-spinner",20)(14,zo,2,0,"span",9),s(),r(15,"button",21),u("click",function(){let i=h(t).$implicit,o=g(2);return f(o.handleDecision(i,!1))}),y(16,Vo,1,0,"mat-spinner",20)(17,Lo,2,0,"span",9),s()()()()}if(n&2){let t=a.$implicit,e=g(2);c(3),Pi("",t.name," ",t.lastName," \u2013 ",t.countryName),c(2),R("Dni: (",t.dni,")"),c(4),d("ngIf",t.proofMessage),c(),d("ngIf",t.proofImageB64),c(2),d("disabled",!!e.decisionLoading),c(),d("ngIf",(e.decisionLoading==null?null:e.decisionLoading.id)===t.id&&(e.decisionLoading==null?null:e.decisionLoading.approved)),c(),d("ngIf",!((e.decisionLoading==null?null:e.decisionLoading.id)===t.id&&(e.decisionLoading!=null&&e.decisionLoading.approved))),c(),d("disabled",!!e.decisionLoading),c(),d("ngIf",(e.decisionLoading==null?null:e.decisionLoading.id)===t.id&&!(e.decisionLoading!=null&&e.decisionLoading.approved)),c(),d("ngIf",!((e.decisionLoading==null?null:e.decisionLoading.id)===t.id&&!(e.decisionLoading!=null&&e.decisionLoading.approved)))}}function No(n,a){if(n&1){let t=v();r(0,"div",8)(1,"h1"),p(2,"Lista de verificaciones pendientes"),s(),r(3,"p"),p(4," Aprueba o rechaza las verificaciones residenciales (prioridad a las mas antiguas) "),s(),y(5,Do,2,0,"h2",9)(6,Bo,18,12,"mat-card",10),r(7,"mat-paginator",11),u("page",function(i){h(t);let o=g();return f(o.pageChange(i))}),s()()}if(n&2){let t=g();c(5),d("ngIf",t.pagedProofs.length==0),c(),d("ngForOf",t.pagedProofs),c(),d("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",at(5,Oo))}}var zn=(()=>{let a=class a{constructor(e,i){this.residenceSvc=e,this.adminSvc=i,this.proofs=[],this.pagedProofs=[],this.isLoading=!0,this.pageSize=10,this.pageIndex=0,this.length=0,this.decisionLoading=null,this.warn=null}ngOnInit(){return V(this,null,function*(){yield this.loadProofs()})}loadProofs(){return V(this,null,function*(){this.isLoading=!0;try{let e=yield Qe(this.residenceSvc.getResidenceProofs());this.proofs=e.data??[],this.length=this.proofs.length,this.setPagedData()}finally{this.isLoading=!1}})}setPagedData(){let e=this.pageIndex*this.pageSize;this.pagedProofs=this.proofs.slice(e,e+this.pageSize)}pageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.setPagedData()}downloadProof(e){if(!e.proofImageB64)return;let i=atob(e.proofImageB64),o=new Uint8Array(i.length);for(let Z=0;Z<i.length;Z++)o[Z]=i.charCodeAt(Z);let l=new Blob([o],{type:"application/octet-stream"}),m=URL.createObjectURL(l),C=document.createElement("a");C.href=m,C.download=`residence-proof-${e.id}.jpg`,C.click(),URL.revokeObjectURL(m)}handleDecision(e,i){return V(this,null,function*(){this.decisionLoading={id:e.id,approved:i};try{yield Qe(this.adminSvc.approveResidence(e.userId,i)),this.warn={status:1,title:i?"Residencia aprobada":"Residencia rechazada",subtitle:`${e.name} ${e.lastName}`,description:i?"La residencia ha sido verificada correctamente.":"La residencia fue rechazada."};let o=this.proofs.findIndex(m=>m.id===e.id);o!==-1&&(this.proofs.splice(o,1),this.length=this.proofs.length);let l=Math.max(0,Math.ceil(this.length/this.pageSize)-1);this.pageIndex>l&&(this.pageIndex=l),this.setPagedData()}catch{this.warn={status:0,title:"Error",subtitle:"No se pudo procesar la solicitud",description:"Intenta nuevamente."}}finally{this.decisionLoading=null}})}closeWarn(){this.warn=null}};a.\u0275fac=function(i){return new(i||a)(x(An),x(yn))},a.\u0275cmp=w({type:a,selectors:[["app-residence-verification"]],decls:7,vars:5,consts:[[1,"rv-page"],[3,"logged"],[1,"rv-main"],["class","rv-container rv-loader",4,"ngIf"],["buttonLabel","Volver a pendientes","class","rv-warn",3,"status","title","subtitle","description","action",4,"ngIf"],["class","rv-container",4,"ngIf"],[1,"rv-container","rv-loader"],["buttonLabel","Volver a pendientes",1,"rv-warn",3,"action","status","title","subtitle","description"],[1,"rv-container"],[4,"ngIf"],["class","rv-card",4,"ngFor","ngForOf"],[1,"paginator",3,"page","length","pageSize","pageSizeOptions"],[1,"rv-card"],[1,"rv-card-header"],[1,"rv-body"],[1,"rv-left"],["class","rv-msg",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"rv-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20",4,"ngIf"],["mat-raised-button","","color","warn",3,"click","disabled"],[1,"rv-msg"],["mat-stroked-button","","color","primary",3,"click"],["diameter","20"]],template:function(i,o){i&1&&(r(0,"div",0),b(1,"app-header",1),r(2,"div",2),y(3,To,2,0,"div",3)(4,Eo,1,4,"app-result-warn",4)(5,No,8,6,"div",5),s(),b(6,"app-footer",1),s()),i&2&&(c(),d("logged",!0),c(2),d("ngIf",o.isLoading),c(),d("ngIf",o.warn),c(),d("ngIf",!o.isLoading&&!o.warn),c(),d("logged",!0))},dependencies:[k,pe,A,_e,fe,sn,z,J,St,xe,Y,W,te,ee,gn,je,Ue,Ct,fn],styles:['@charset "UTF-8";.rv-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#dfe0d5}.rv-main[_ngcontent-%COMP%]{flex:1;min-height:77vh;display:flex}.rv-container[_ngcontent-%COMP%]{margin:auto;width:80%;padding:5rem 0;display:flex;height:100%;flex-direction:column;justify-content:center;gap:24px}.rv-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:23px;font-weight:500;word-spacing:3px;color:#152047}.rv-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:44px;font-weight:600;color:#152047}.rv-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:28px;color:#666}.rv-loader[_ngcontent-%COMP%]{align-items:center}.rv-warn[_ngcontent-%COMP%]{width:60%!important;margin:auto;padding:80px 10px}@media (max-width: 768px){.rv-warn[_ngcontent-%COMP%]{width:100%!important;padding:40px 16px}}.rv-card[_ngcontent-%COMP%]{width:100%;background-color:#f9f9ed;border-radius:10px;box-shadow:0 8px 16px #00000037}.rv-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:15px 15px 15px 30px}.rv-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;margin-bottom:5px;font-weight:700;color:#152047}.rv-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:0;color:#666}.rv-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:40px;padding:25px 25px 25px 30px;border-top:1px #152047 solid .5}.rv-left[_ngcontent-%COMP%]{flex:1 1 auto;border:10px #152047 solid 1}.rv-left[_ngcontent-%COMP%]   .rv-msg[_ngcontent-%COMP%]{margin:0 0 16px;white-space:pre-wrap;font-size:1rem}.rv-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-right:20px;gap:12px;align-items:stretch}.rv-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:140px;font-size:18px}@media (max-width: 600px){.rv-body[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.rv-vline[_ngcontent-%COMP%]{display:none}.rv-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}}']});let n=a;return n})();var jo=["fileInput"],Go=["catSlot"];function Uo(n,a){if(n&1){let t=v();r(0,"button",14),u("click",function(){h(t),g();let i=U(8);return f(i.click())}),r(1,"mat-icon"),p(2,"cloud_upload"),s(),r(3,"span"),p(4,"Seleccionar"),s()()}}function Ho(n,a){if(n&1){let t=v();r(0,"div",16),b(1,"img",17),r(2,"button",18),u("click",function(){h(t);let i=g().index,o=g(2);return f(o.removeImage(i))}),r(3,"mat-icon"),p(4,"close"),s()()()}if(n&2){let t=g(),e=t.$implicit,i=t.index,o=g(2);E("is-main",i===o.mainIndex),c(),d("src",e.preview,nt)("alt","Imagen "+(i+1))}}function qo(n,a){if(n&1&&(Pe(0),y(1,Ho,5,4,"div",15),Se()),n&2){let t=a.$implicit;c(),d("ngIf",t.preview)}}function $o(n,a){if(n&1&&(r(0,"span",19),p(1),s()),n&2){let t=g(2);c(),T(t.imageError)}}function Qo(n,a){if(n&1){let t=v();Pe(0),r(1,"form",4),b(2,"app-form-field",5),r(3,"p",6),p(4,"Fotos"),s(),r(5,"div",7),y(6,Uo,5,0,"button",8),r(7,"input",9,0),u("change",function(i){h(t);let o=g();return f(o.addImages(i))}),s(),y(9,qo,2,1,"ng-container",10),s(),y(10,$o,2,1,"span",11),b(11,"span",12)(12,"app-form-field",13),s(),Se()}if(n&2){let t=g();c(),d("formGroup",t.leftForm),c(),d("placeholder","Ingrese el t\xEDtulo")("label","T\xEDtulo")("maxLength",100)("hasError",t.leftForm.get("title").invalid&&t.leftForm.get("title").touched)("errorMessage","T\xEDtulo requerido (3-100)"),c(4),d("ngIf",t.filledImages<t.maxImages),c(3),d("ngForOf",t.selectedImages),c(),d("ngIf",t.imageError),c(2),d("label","Precio")("placeholder","0")("hasError",t.leftForm.get("price").invalid&&t.leftForm.get("price").touched)("errorMessage","Precio > 0")}}function Wo(n,a){if(n&1){let t=v();r(0,"div",35),u("click",function(i){return h(t),f(i.stopPropagation())}),r(1,"app-list-categories",36),u("categorySelected",function(i){h(t);let o=g().index,l=g(2);return f(l.onCategorySelected(o,i))}),s()()}}function Yo(n,a){if(n&1){let t=v();r(0,"div",32)(1,"app-button-categories",33,1),u("toggle",function(){let i=h(t).index,o=g(2);return f(o.toggleList(i))})("clear",function(){let i=h(t).index,o=g(2);return f(o.clearCat(i))}),s(),y(3,Wo,2,0,"div",34),s()}if(n&2){let t=a.$implicit,e=a.index,i=g(2);c(),d("categoryName",t.name||null),c(2),d("ngIf",i.showList[e])}}function Zo(n,a){n&1&&(r(0,"small"),p(1," Elige al menos 1 categor\xEDa "),s())}function Xo(n,a){if(n&1&&(Pe(0),r(1,"form",20),b(2,"app-form-field",21),r(3,"div",22)(4,"div",23)(5,"p",6),p(6,"Categor\xEDa/s"),s(),r(7,"div",24),y(8,Yo,4,2,"div",25),s(),y(9,Zo,2,0,"small",3),s(),r(10,"div",26)(11,"p",6),p(12,"Medios de pago"),s(),r(13,"div",27)(14,"mat-checkbox",28),p(15,"Efectivo"),s(),r(16,"mat-checkbox",29),p(17,"Tarjeta"),s(),r(18,"mat-checkbox",30),p(19,"Transferencia"),s(),r(20,"mat-checkbox",31),p(21,"Trueque"),s()()()()(),Se()),n&2){let t=g();c(),d("formGroup",t.rightForm),c(),d("rows",5)("label","Descripci\xF3n")("placeholder","Cont\xE1 con detalle tu producto")("maxLength",1e3)("hasError",t.rightForm.get("description").invalid&&t.rightForm.get("description").touched)("errorMessage","Descripci\xF3n requerida (10-1000)"),c(6),d("ngForOf",t.categories),c(),d("ngIf",t.rightForm.get("categories").invalid)}}var Bn=(()=>{let a=class a{get filledImages(){return this.selectedImages.filter(e=>!!e.preview).length}get mainIndex(){return this.selectedImages.findIndex(e=>!!e.preview)}get modalButtons(){return[{label:"Cancelar",type:"secondary",action:()=>this.closed.emit(),disabled:this.saving},{label:"Modificar",type:"primary",action:()=>this.onSubmit(),disabled:this.saving||(this.side==="left"?this.leftForm.invalid:this.rightForm.invalid),loading:this.saving}]}constructor(e){this.fb=e,this.saving=!1,this.saved=new P,this.closed=new P,this.categories=[],this.showList=[],this.selectedImages=[],this.maxImages=5,this.maxSize=5*1024*1024,this.minImagesReq=1,this.imageError=null}ngOnInit(){for(this.selectedImages=[{file:new File([],""),preview:this.listing.mainImage},...this.fullInfo.auxiliaryImages.map(i=>({file:new File([],""),preview:i.imgUrl}))].slice(0,this.maxImages);this.selectedImages.length<this.maxImages;)this.selectedImages.push({file:new File([],""),preview:""});this.categories=this.fullInfo.categories.map(i=>({idPath:i.categoryId,name:i.description})),this.categories.length<10&&(this.categories.length===0||this.categories.at(-1).idPath!=="")&&this.categories.push({idPath:"",name:""}),this.showList=this.categories.map(()=>!1);let e=i=>i.value.filter(o=>!!o.preview).length>=this.minImagesReq?null:{tooFew:!0};this.leftForm=this.fb.group({title:[this.listing.title,[O.required,O.minLength(3),O.maxLength(100)]],price:[this.listing.price,[O.required,O.min(1)]],condition:[this.listing.condition,O.required],images:[this.selectedImages,e]}),this.rightForm=this.fb.group({description:[this.listing.description,[O.required,O.minLength(10),O.maxLength(1e3)]],categories:[[],O.minLength(1)],paysCash:[this.listing.acceptsCash],paysCard:[this.listing.acceptsCard],paysTransf:[this.listing.acceptsTransfer],paysBarter:[this.listing.acceptsBarter]}),this.rightForm.get("categories").setValue(this.categories.filter(i=>i.idPath).map(i=>i.idPath)),this.filledImages<this.minImagesReq&&(this.imageError=`Debes subir al menos ${this.minImagesReq} fotos`)}setImageError(e){this.imageError=e,this.leftForm.get("images").updateValueAndValidity({emitEvent:!1})}clearImageError(){this.imageError=null,this.leftForm.get("images").updateValueAndValidity({emitEvent:!1})}addImages(e){let i=e.target,o=this.maxImages-this.filledImages,l=Array.from(i.files??[]).slice(0,o);this.clearImageError(),l.forEach(m=>{if(this.filledImages>=this.maxImages)return;if(m.size>this.maxSize){this.setImageError(`La imagen ${m.name} supera los 5 MB`);return}let C=new FileReader;C.onload=Z=>{let qt=Z.target.result;if(this.selectedImages.some(Tt=>Tt.preview===qt)){this.setImageError(`La imagen ${m.name} ya fue cargada en esta modificaci\xF3n`);return}let $t=this.selectedImages.findIndex(Tt=>!Tt.preview),Qt={file:m,preview:qt};$t===-1?this.selectedImages.push(Qt):this.selectedImages[$t]=Qt,this.leftForm.get("images").updateValueAndValidity()},C.readAsDataURL(m)}),i.value=""}removeImage(e){this.selectedImages[e]&&(this.selectedImages[e]={file:new File([],""),preview:""},this.filledImages<this.minImagesReq?this.setImageError(`Debes subir al menos ${this.minImagesReq} fotos`):this.clearImageError(),this.leftForm.get("images").setValue(this.selectedImages))}normalizeOrder(){for(;this.selectedImages.length<this.maxImages;)this.selectedImages.push({file:new File([],""),preview:""});if(!this.selectedImages[0].preview){let e=this.selectedImages.findIndex((i,o)=>o>0&&i.preview);e>0&&([this.selectedImages[0],this.selectedImages[e]]=[this.selectedImages[e],this.selectedImages[0]])}}toggleList(e){this.showList[e]=!this.showList[e]}clearCat(e){this.categories.splice(e,1),this.showList.splice(e,1);let i=this.categories.filter(o=>o.idPath);this.categories=[...i,{idPath:"",name:""}],this.showList=this.categories.map(()=>!1),this.patchCats()}onCategorySelected(e,i){if(this.categories.some((l,m)=>m!==e&&l.idPath===i.idPath)){this.categories[e]={idPath:"",name:""},this.showList[e]=!1;return}this.categories[e]=i,this.showList[e]=!1,e===this.categories.length-1&&this.categories.length<10&&i.idPath&&(this.categories.push({idPath:"",name:""}),this.showList.push(!1)),this.patchCats()}patchCats(){this.rightForm.get("categories").setValue(this.categories.filter(e=>e.idPath).map(e=>e.idPath))}buildRequest(){this.normalizeOrder();let e=this.selectedImages[0].preview||null,i=e&&e!==this.listing.mainImage?e:null,o=this.selectedImages.slice(1,this.maxImages).map(C=>C.preview||null),l=this.fullInfo.auxiliaryImages.map(C=>C.imgUrl??null),m=o.some((C,Z)=>C!==(l[Z]??null));return{listingId:this.listing.id,title:this.leftForm.value.title??this.listing.title,description:this.rightForm.value.description??this.listing.description,price:this.leftForm.value.price??this.listing.price,condition:this.leftForm.value.condition??this.listing.condition,brand:this.listing.brand,mainImage:i,imagesUrl:m?o:null,categoriesId:this.rightForm.value.categories?.length?this.rightForm.value.categories:this.fullInfo.categories.map(C=>C.categoryId),acceptsCash:this.rightForm.value.paysCash??this.listing.acceptsCash,acceptsCard:this.rightForm.value.paysCard??this.listing.acceptsCard,acceptsTransfer:this.rightForm.value.paysTransf??this.listing.acceptsTransfer,acceptsBarter:this.rightForm.value.paysBarter??this.listing.acceptsBarter,type:this.listing.type}}onSubmit(){if(this.filledImages<this.minImagesReq){this.setImageError(`Debes subir al menos ${this.minImagesReq} fotos`);return}let e=this.buildRequest(),i=e.mainImage!==null?this.selectedImages[0].file:null,o=e.imagesUrl!==null?this.selectedImages.slice(1,this.maxImages).map((l,m)=>l.preview&&l.preview!==this.fullInfo.auxiliaryImages[m]?.imgUrl?l.file:null):null;this.saved.emit({dto:e,mainImageFile:i,auxFiles:o})}clickOut(e){this.catSlots.some(o=>o.nativeElement.contains(e.target))||(this.showList=this.showList.map(()=>!1))}};a.\u0275fac=function(i){return new(i||a)(x(Le))},a.\u0275cmp=w({type:a,selectors:[["app-edit-publication"]],viewQuery:function(i,o){if(i&1&&(F(jo,5),F(Go,5,q)),i&2){let l;S(l=I())&&(o.fileInput=l.first),S(l=I())&&(o.catSlots=l)}},hostBindings:function(i,o){i&1&&u("click",function(m){return o.clickOut(m)},fi)},inputs:{listing:"listing",fullInfo:"fullInfo",side:"side",saving:"saving"},outputs:{saved:"saved",closed:"closed"},decls:3,vars:4,consts:[["fileInput",""],["catSlot",""],[3,"close","title","buttons"],[4,"ngIf"],["id","leftForm",1,"left-form",3,"formGroup"],["formControlName","title",3,"placeholder","label","maxLength","hasError","errorMessage"],[1,"modal-label"],[1,"photos"],["class","add-photo","type","button",3,"click",4,"ngIf"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],[4,"ngFor","ngForOf"],["class","form-error",4,"ngIf"],[1,"price-separer"],["prefixIcon","$","formControlName","price",1,"price-field",3,"label","placeholder","hasError","errorMessage"],["type","button",1,"add-photo",3,"click"],["class","thumb",3,"is-main",4,"ngIf"],[1,"thumb"],["loading","lazy","appDefaultImage","","decoding","async",3,"src","alt"],["mat-icon-button","",3,"click"],[1,"form-error"],["id","rightForm",1,"right-form",3,"formGroup"],["type","textarea","formControlName","description",3,"rows","label","placeholder","maxLength","hasError","errorMessage"],[1,"cat-pay-row"],[1,"cat-col"],[1,"categories-container"],["class","cat-slot",4,"ngFor","ngForOf"],[1,"pay-col"],[1,"chips-edit"],["formControlName","paysCash"],["formControlName","paysCard"],["formControlName","paysTransf"],["formControlName","paysBarter"],[1,"cat-slot"],[3,"toggle","clear","categoryName"],["class","dropdown-wrapper",3,"click",4,"ngIf"],[1,"dropdown-wrapper",3,"click"],[3,"categorySelected"]],template:function(i,o){i&1&&(r(0,"app-default-modal",2),u("close",function(){return o.closed.emit()}),y(1,Qo,13,13,"ng-container",3)(2,Xo,22,9,"ng-container",3),s()),i&2&&(d("title","Informaci\xF3n sobre el producto")("buttons",o.modalButtons),c(),d("ngIf",o.side==="left"),c(),d("ngIf",o.side==="right"))},dependencies:[k,pe,A,Be,Ae,Fe,Re,ze,Ve,Y,W,z,ge,bt,wt,xt,Ne,be,Ge,vt],styles:['@charset "UTF-8";.modal-label[_ngcontent-%COMP%]{font-size:23px;font-weight:600;color:#152047;margin-bottom:10px;margin-top:30px}.price-separer[_ngcontent-%COMP%]{height:20px;display:block;background:transparent}.cdk-drag-preview[_ngcontent-%COMP%]{border:2px dashed #1976d2;border-radius:6px;box-sizing:border-box;background:#fff}.left-form[_ngcontent-%COMP%], .right-form[_ngcontent-%COMP%]{padding:10px 20px!important;min-width:55vw;min-height:55vh}.photos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:15px}.photos[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]{width:150px;height:150px;background:#d9d9d9;border:3px dashed #152047;border-radius:6px;color:#152047;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;font-size:.9rem;transition:background .2s}.photos[_ngcontent-%COMP%]   .add-photo[_ngcontent-%COMP%]:hover{background:#cfd0d0}.photos[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}.photos[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:6px;box-sizing:border-box;padding:8px;object-fit:contain}.photos[_ngcontent-%COMP%]   .thumb.is-main[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:3px solid #54aa54;box-sizing:border-box}.photos[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:#fff;border:1px solid #999;border-radius:50%;width:30px;height:30px;padding:0}.photos[_ngcontent-%COMP%]   .thumb.is-main[_ngcontent-%COMP%]:after{content:"PORTADA";position:absolute;bottom:4px;left:4px;background:#152047;color:#fff;font-size:.65rem;padding:2px 6px;border-radius:4px}.cat-pay-row[_ngcontent-%COMP%]{margin-top:35px;min-height:200px;display:flex;gap:48px}.cat-pay-row[_ngcontent-%COMP%]   .cat-col[_ngcontent-%COMP%]{flex:1 1 50%}.cat-pay-row[_ngcontent-%COMP%]   .pay-col[_ngcontent-%COMP%]{flex:1 1 40%;padding-left:48px;border-left:2px solid rgba(21,32,71,.25)}.form-error[_ngcontent-%COMP%]{color:#d32f2f;font-size:1rem;font-weight:600;display:block;margin-bottom:5px;margin-top:4px}app-form-field[type=radio][_ngcontent-%COMP%]{display:block;margin-top:4px}app-form-field[type=radio][_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin:8px 0;cursor:pointer}.categories-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.cat-slot[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%]{position:absolute;left:0;top:calc(100% + 4px);z-index:1002}.chips-edit[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:6px}.cat-slot[_ngcontent-%COMP%]{position:relative;overflow:visible}.dropdown-wrapper[_ngcontent-%COMP%]{position:absolute;top:calc(100% - 150px);left:0;z-index:2000;background:#f9f9ed;border:1px solid #152047;border-radius:4px;box-shadow:0 4px 12px #00000026;max-height:none!important;overflow:visible!important}[_nghost-%COMP%]     .modal-body{overflow:visible!important}']});let n=a;return n})();function Ko(n,a){if(n&1){let t=v();r(0,"mat-icon",24),u("click",function(){h(t);let i=g();return f(i.openEdit("left"))}),p(1,"edit"),s()}}function Jo(n,a){n&1&&b(0,"mat-spinner",25)}function ea(n,a){if(n&1){let t=v();r(0,"mat-icon",24),u("click",function(){h(t);let i=g();return f(i.openEdit("right"))}),p(1,"edit"),s()}}function ta(n,a){n&1&&b(0,"mat-spinner",25)}function ia(n,a){n&1&&(r(0,"span",26),p(1,"EFECTIVO"),s())}function na(n,a){n&1&&(r(0,"span",27),p(1,"TARJETA"),s())}function oa(n,a){n&1&&(r(0,"span",28),p(1,"TRANSFERENCIA"),s())}function aa(n,a){n&1&&(r(0,"span",29),p(1,"TRUEQUE"),s())}function ra(n,a){if(n&1){let t=v();r(0,"app-edit-publication",30),u("saved",function(i){h(t);let o=g();return f(o.onSave(i))})("closed",function(){h(t);let i=g();return f(i.editingSide=null)})("reload",function(){h(t);let i=g();return f(i.onListingModified())}),s()}if(n&2){let t=g();d("listing",t.listing)("fullInfo",t.fullData)("side",t.editingSide)("saving",t.saving)}}var Gn=(()=>{let a=class a{constructor(e,i){this.listingSrv=e,this.sb=i,this.reload=new P,this.selected=!1,this.selectionChange=new P,this.listingModified=new P,this.editingSide=null,this.loadingSide=null,this.saving=!1}openEdit(e){this.loadingSide=e,this.listingSrv.getListingInfo(this.listing.id).subscribe({next:({data:i})=>{this.fullData=i,this.editingSide=e},complete:()=>{this.loadingSide=null},error:()=>{this.loadingSide=null}})}onSave(e){let{dto:i,mainImageFile:o,auxFiles:l}=e;this.saving=!0,this.listingSrv.editListing(i,o,l).subscribe({next:()=>{this.sb.openFromComponent(re,{data:{message:"\xA1Publicaci\xF3n modificada!",status:"success"},duration:4e3,panelClass:"success-snackbar",horizontalPosition:"center",verticalPosition:"bottom"}),this.editingSide=null,this.reload.emit()},complete:()=>{this.saving=!1},error:()=>{this.saving=!1}})}onCheckboxChange(e){this.selectionChange.emit(e.checked)}onListingModified(){this.listingModified.emit(!0)}closeModal(){this.editingSide=null}};a.\u0275fac=function(i){return new(i||a)(x(He),x(ue))},a.\u0275cmp=w({type:a,selectors:[["app-publication-card"]],inputs:{listing:"listing",selected:"selected"},outputs:{reload:"reload",selectionChange:"selectionChange",listingModified:"listingModified"},decls:42,vars:24,consts:[[1,"card-inner"],[1,"inner-check",3,"change","checked"],[1,"left-card"],["loading","lazy","appDefaultImage","","decoding","async",1,"thumbnail",3,"src","alt"],[1,"text"],[1,"info-row"],[1,"status"],["class","edit",3,"click",4,"ngIf"],["diameter","20",4,"ngIf"],[1,"condition"],[1,"price"],[1,"desc"],[1,"bottom-info"],[1,"type"],[1,"created"],[1,"right-card"],[1,"label"],[1,"desc","multiline"],[1,"chips"],["class","chip cash",4,"ngIf"],["class","chip card",4,"ngIf"],["class","chip transfer",4,"ngIf"],["class","chip barter",4,"ngIf"],[3,"listing","fullInfo","side","saving","saved","closed","reload",4,"ngIf"],[1,"edit",3,"click"],["diameter","20"],[1,"chip","cash"],[1,"chip","card"],[1,"chip","transfer"],[1,"chip","barter"],[3,"saved","closed","reload","listing","fullInfo","side","saving"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"mat-checkbox",1),u("change",function(m){return o.onCheckboxChange(m)}),s(),r(2,"mat-card",2),b(3,"img",3),r(4,"div",4)(5,"div")(6,"div",5)(7,"h3",6),p(8),s(),y(9,Ko,2,0,"mat-icon",7)(10,Jo,1,0,"mat-spinner",8),s(),r(11,"p",9),p(12),s(),r(13,"div",10),p(14),Ze(15,"number"),s(),r(16,"p",11),p(17),s()(),r(18,"div",12)(19,"p",13),p(20),s(),r(21,"p",14),p(22),Ze(23,"date"),s()()()(),r(24,"mat-card",15)(25,"div",5)(26,"h3"),p(27,"Informaci\xF3n sobre el producto"),s(),y(28,ea,2,0,"mat-icon",7)(29,ta,1,0,"mat-spinner",8),s(),r(30,"p",16),p(31,"Descripci\xF3n"),s(),r(32,"p",17),p(33),s(),r(34,"p",16),p(35,"Medios de pago"),s(),r(36,"div",18),y(37,ia,2,0,"span",19)(38,na,2,0,"span",20)(39,oa,2,0,"span",21)(40,aa,2,0,"span",22),s()()(),y(41,ra,1,4,"app-edit-publication",23)),i&2&&(c(),d("checked",o.selected),c(2),d("src",o.listing.mainImage,nt)("alt",o.listing.title||"Imagen de publicaci\xF3n"),c(5),R(" ",o.listing.status===1?"Activa":"Pausada"," "),c(),d("ngIf",o.loadingSide!=="left"),c(),d("ngIf",o.loadingSide==="left"),c(2),R(" ",o.listing.condition==2?"Nuevo":"Usado"," "),c(2),R("$ ",rt(15,19,o.listing.price)),c(3),T(o.listing.title),c(3),T(o.listing.type),c(2),R(" Publicado el ",Si(23,21,o.listing.createdAt,"dd/MM/yyyy")," "),c(6),d("ngIf",o.loadingSide!=="right"),c(),d("ngIf",o.loadingSide==="right"),c(4),T(o.listing.description),c(4),d("ngIf",o.listing.acceptsCash),c(),d("ngIf",o.listing.acceptsCard),c(),d("ngIf",o.listing.acceptsTransfer),c(),d("ngIf",o.listing.acceptsBarter),c(),d("ngIf",o.editingSide))},dependencies:[k,A,Ei,Ti,_e,fe,Bn,Y,W,be,Ge,te,ee,vt],styles:['@charset "UTF-8";.card-inner[_ngcontent-%COMP%]{border:2px solid #152047;box-shadow:0 1px 5px #00000080;border-radius:8px;display:flex;flex-direction:row;gap:24px;padding:32px 48px;background:#f9f9ed;position:relative}.mat-mdc-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem!important;color:#152047!important}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{box-shadow:0 1px 5px #00000080;background-color:#1520470f;border-radius:6px;padding:30px;position:relative}.left-card[_ngcontent-%COMP%]{flex:1 1 55%;display:flex;flex-direction:row;gap:40px}.left-card[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{width:210px;height:210px;object-fit:contain;box-sizing:border-box;padding:8px}.left-card[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{margin-top:12px;font-weight:700;font-size:.9rem;color:#152047}.left-card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between;height:100%}.left-card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .bottom-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.left-card[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.left-card[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0 0 20px;color:#152047}.left-card[_ngcontent-%COMP%]   .condition[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1rem;font-weight:500;color:#666}.left-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:8px}.left-card[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:#666}.right-card[_ngcontent-%COMP%]{color:#152047;flex:1 1 45%}.right-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin:0;font-weight:700}.right-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;margin:12px 0 4px;font-size:1.2rem}.right-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:.85rem;color:#666}.right-card[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:.95rem;color:#666}.right-card[_ngcontent-%COMP%]   .desc.multiline[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;word-break:break-all!important;-webkit-line-clamp:3;overflow:hidden}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{position:relative;box-shadow:0 1px 2px #00000080;padding:2px 28px 2px 12px;font-size:.7rem;border-radius:4px;font-weight:600;color:#fff}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:6px;width:10px;height:10px;border:2px solid #fff;border-radius:50%;transform:translateY(-50%);background:#fff}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .cash[_ngcontent-%COMP%]{background:#54aa54}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#894daa}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .transfer[_ngcontent-%COMP%]{background:#326c9f}.right-card[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .barter[_ngcontent-%COMP%]{background:#b46a3a}.info-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}.edit[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;color:#152047}[_nghost-%COMP%]     mat-checkbox.inner-check .mdc-checkbox__background{transform:scale(1.5)}@media (max-width: 768px){.card-inner[_ngcontent-%COMP%]{flex-direction:column;padding:12px 6px;border-radius:6px;gap:10px}.left-card[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]{flex:1 1 100%;padding:10px 4px;border-radius:6px}.left-card[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:8px}.left-card[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;padding:2px}.left-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1rem}.left-card[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.8rem}.left-card[_ngcontent-%COMP%]   .condition[_ngcontent-%COMP%], .left-card[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .left-card[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{font-size:.7rem}.right-card[_ngcontent-%COMP%]{margin-top:8px}.right-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9rem}.right-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem}.right-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%], .right-card[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.7rem}}']});let n=a;return n})();var sa=()=>[6,12,24];function la(n,a){n&1&&b(0,"mat-spinner",20)}function ca(n,a){n&1&&(r(0,"span"),p(1,"Pausar"),s())}function da(n,a){n&1&&b(0,"mat-spinner",20)}function pa(n,a){n&1&&(r(0,"span"),p(1,"Reactivar"),s())}function ma(n,a){n&1&&b(0,"mat-spinner",20)}function ga(n,a){n&1&&(r(0,"span"),p(1,"Eliminar"),s())}function ua(n,a){if(n&1){let t=v();r(0,"app-publication-card",21),u("listingModified",function(){h(t);let i=g();return f(i.load())})("reload",function(){h(t);let i=g();return f(i.load())})("selectionChange",function(i){let o=h(t).$implicit,l=g();return f(l.onCardSelect(o.id,i))}),s()}if(n&2){let t=a.$implicit,e=g();d("listing",t)("selected",e.selectedIds.has(t.id))}}var Un=(()=>{let a=class a{constructor(e,i,o){this.ls=e,this.router=i,this.snackBar=o,this.allListings=[],this.filteredListings=[],this.listings=[],this.sort="DESC",this.search="",this.pageSize=6,this.pageIndex=0,this.length=0,this.isPausing=!1,this.isReactivating=!1,this.isDeleting=!1,this.selectedIds=new Set}ngOnInit(){this.load()}load(){this.ls.listListings({userId:this.user.id,pageSize:9999}).subscribe(e=>{this.allListings=e.data??[],this.applyFilters()})}setSort(e){this.sort=e,this.pageIndex=0,this.applyFilters()}doSearch(e){this.search=e.trim(),this.pageIndex=0,this.applyFilters()}pageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.setPagedData()}setPagedData(){let e=this.pageIndex*this.pageSize;this.listings=this.filteredListings.slice(e,e+this.pageSize)}applyFilters(){let e=[...this.allListings];if(this.search){let i=this.search.toLowerCase();e=e.filter(o=>o.title.toLowerCase().includes(i))}e.sort((i,o)=>{let l=new Date(i.createdAt).getTime(),m=new Date(o.createdAt).getTime();return this.sort==="DESC"?m-l:l-m}),this.filteredListings=e,this.length=this.filteredListings.length,this.setPagedData()}goToPublish(){this.router.navigate(["/publish"])}get allSelected(){return this.listings.length>0&&this.selectedIds.size===this.listings.length}get canPauseSelected(){if(this.selectedIds.size!==1)return!1;let e=Array.from(this.selectedIds)[0];return this.listings.find(o=>o.id===e)?.status===1}get canReactivateSelected(){if(this.selectedIds.size!==1)return!1;let e=Array.from(this.selectedIds)[0];return this.listings.find(o=>o.id===e)?.status!==1}toggleAll(e){this.selectedIds.clear(),e&&this.listings.forEach(i=>this.selectedIds.add(i.id)),this.selectedIds=new Set(this.selectedIds)}onCardSelect(e,i){i?this.selectedIds.add(e):this.selectedIds.delete(e),this.selectedIds=new Set(this.selectedIds)}changeStatus(e){if(this.selectedIds.size!==1)return;let i=Array.from(this.selectedIds)[0],o={listingId:i,action:e};this.isPausing=e==="PAUSE",this.isReactivating=e==="REACTIVATE",this.ls.manageListingStatus(o).subscribe({next:()=>{let l=this.listings.find(C=>C.id===i);l&&(l.status=e==="PAUSE"?0:1);let m=this.allListings.find(C=>C.id===i);m&&(m.status=e==="PAUSE"?0:1),this.snackBar.openFromComponent(re,{data:{message:e==="PAUSE"?"Publicaci\xF3n pausada correctamente":"Publicaci\xF3n reactivada correctamente",status:"success"},duration:5e3,panelClass:"success-snackbar",horizontalPosition:"center",verticalPosition:"bottom"}),this.selectedIds.clear()},complete:()=>{this.isPausing=!1,this.isReactivating=!1},error:()=>{this.isPausing=!1,this.isReactivating=!1}})}deleteSelected(){if(this.selectedIds.size===0)return;let e=Array.from(this.selectedIds),i=e.map(o=>{let l={listingId:o,action:"DELETE"};return this.ls.manageListingStatus(l)});this.isDeleting=!0,Xt(i).subscribe({next:()=>{this.allListings=this.allListings.filter(o=>!this.selectedIds.has(o.id)),this.applyFilters(),this.snackBar.openFromComponent(re,{data:{message:`${e.length} publicaci\xF3n${e.length>1?"es":""} eliminada${e.length>1?"s":""} correctamente`,status:"success"},duration:5e3,panelClass:"success-snackbar",horizontalPosition:"center",verticalPosition:"bottom"}),this.selectedIds.clear()},complete:()=>{this.isDeleting=!1},error:()=>{this.isDeleting=!1}})}};a.\u0275fac=function(i){return new(i||a)(x(He),x(me),x(ue))},a.\u0275cmp=w({type:a,selectors:[["app-my-publishes"]],viewQuery:function(i,o){if(i&1&&F(xe,5),i&2){let l;S(l=I())&&(o.paginator=l.first)}},inputs:{user:"user"},decls:41,vars:16,consts:[["searchBox",""],[1,"publishes-header"],[1,"section-title"],[1,"controls"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Buscar por t\xEDtulo",3,"keyup.enter"],["mat-icon-button","","matSuffix","",3,"click"],["mat-button","",3,"click"],[1,"board"],[1,"board-header"],[1,"master-check",3,"change","checked"],[1,"board-actions"],["mat-button","",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"cards-zone"],[3,"listing","selected","listingModified","reload","selectionChange",4,"ngFor","ngForOf"],[1,"add-card",3,"click"],[1,"paginator",3,"page","length","pageIndex","pageSize","pageSizeOptions"],["diameter","20"],[3,"listingModified","reload","selectionChange","listing","selected"]],template:function(i,o){if(i&1){let l=v();r(0,"div",1)(1,"h2",2),p(2,"Publicaciones"),s(),r(3,"div",3)(4,"mat-form-field",4)(5,"mat-icon",5),p(6,"search"),s(),r(7,"input",6,0),u("keyup.enter",function(){h(l);let C=U(8);return f(o.doSearch(C.value))}),s(),r(9,"button",7),u("click",function(){h(l);let C=U(8);return f(o.doSearch(C.value))}),r(10,"mat-icon"),p(11,"arrow_forward"),s()()(),r(12,"button",8),u("click",function(){return h(l),f(o.setSort("DESC"))}),r(13,"mat-icon"),p(14,"arrow_downward"),s(),p(15," M\xE1s reciente "),s(),r(16,"button",8),u("click",function(){return h(l),f(o.setSort("ASC"))}),r(17,"mat-icon"),p(18,"arrow_upward"),s(),p(19," M\xE1s antiguo "),s()()(),r(20,"div",9)(21,"div",10)(22,"mat-checkbox",11),u("change",function(C){return h(l),f(o.toggleAll(C.checked))}),s(),r(23,"div",12)(24,"button",13),u("click",function(){return h(l),f(o.changeStatus("PAUSE"))}),y(25,la,1,0,"mat-spinner",14)(26,ca,2,0,"span",15),s(),r(27,"button",13),u("click",function(){return h(l),f(o.changeStatus("REACTIVATE"))}),y(28,da,1,0,"mat-spinner",14)(29,pa,2,0,"span",15),s(),r(30,"button",13),u("click",function(){return h(l),f(o.deleteSelected())}),y(31,ma,1,0,"mat-spinner",14)(32,ga,2,0,"span",15),s()()(),r(33,"div",16),y(34,ua,1,2,"app-publication-card",17),r(35,"mat-card",18),u("click",function(){return h(l),f(o.goToPublish())}),r(36,"mat-icon"),p(37,"add"),s(),r(38,"span"),p(39,"A\xF1adir publicaci\xF3n"),s()()()(),r(40,"mat-paginator",19),u("page",function(C){return h(l),f(o.pageChange(C))}),s()}i&2&&(c(22),d("checked",o.allSelected),c(2),d("disabled",!o.canPauseSelected||o.isPausing),c(),d("ngIf",o.isPausing),c(),d("ngIf",!o.isPausing),c(),d("disabled",!o.canReactivateSelected||o.isReactivating),c(),d("ngIf",o.isReactivating),c(),d("ngIf",!o.isReactivating),c(),d("disabled",o.selectedIds.size===0||o.isDeleting),c(),d("ngIf",o.isDeleting),c(),d("ngIf",!o.isDeleting),c(2),d("ngForOf",o.listings),c(6),d("length",o.length)("pageIndex",o.pageIndex)("pageSize",o.pageSize)("pageSizeOptions",at(15,sa)))},dependencies:[k,pe,A,_e,fe,Y,W,z,J,ge,ft,ht,ln,cn,yt,hn,St,xe,be,Ge,te,ee,Gn],styles:[".publishes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;margin-bottom:16px;flex-wrap:wrap}.section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#152047;margin-bottom:40px}.controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:center}.controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:220px;width:280px}.controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-flex, .controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background:#f9f9ed;border:0px}.controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-bottom-align{height:0px}.controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:.8rem 1rem;min-height:auto}.controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-icon{color:#152047}.board[_ngcontent-%COMP%]{border:2px solid #152047;box-shadow:0 8px 24px #0000001a;border-radius:8px;background:#d9d9d9c0;padding:32px 60px;position:relative;margin-top:32px;margin-bottom:32px}[_nghost-%COMP%]     mat-checkbox.master-check .mdc-checkbox__background{transform:scale(1.7)}.board-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:20px}.board-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:30px}.board-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Urbanist;font-size:1.1rem;color:#152047;padding:0;min-width:72px}.board-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#666}.cards-zone[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.add-card[_ngcontent-%COMP%]{border:2px dashed #c4c4c4;background-color:#f9f9ed;height:300px;box-shadow:0 1px 5px #00000080;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#152047;cursor:pointer}.add-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:7rem;height:7rem;width:7rem}.add-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;margin-top:8px}@media (max-width: 768px){.publishes-header[_ngcontent-%COMP%]{align-items:flex-start;gap:1rem}.controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%}.controls[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.board[_ngcontent-%COMP%]{padding:24px}.board-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.board-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.board-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]});let n=a;return n})();function ha(n,a){if(n&1){let t=v();r(0,"app-default-modal",12),u("close",function(){h(t);let i=g();return f(i.closeModal())}),r(1,"form",13),b(2,"app-form-field",14),s()()}if(n&2){let t=g();d("buttons",t.modalButtons),c(),d("formGroup",t.editForm),c(),d("hasError",t.editForm.get("value").invalid&&t.editForm.get("value").touched)("errorMessage",t.getError())}}var qn=(()=>{let a=class a{constructor(e,i,o,l,m,C){this.auth=e,this.router=i,this.fb=o,this.profileSvc=l,this.snackBar=m,this.countryService=C,this.modalOpen=!1,this.modalButtons=[],this.isSaving=!1}ngOnInit(){let e=this.auth.getCurrentUser();if(!e){this.router.navigate(["/auth/login"]);return}this.user=e}editPhone(){this.editForm=this.fb.group({value:[this.user.contactPhone||"",O.required]}),this.saveBtn={label:"Modificar",type:"primary",action:()=>this.savePhone(),disabled:!0,form:"editPhoneForm",loading:this.isSaving},this.cancelBtn={label:"Cancelar",type:"secondary",action:()=>this.closeModal(),disabled:this.isSaving},this.modalButtons=[this.cancelBtn,this.saveBtn],this.editForm.valueChanges.subscribe(({value:e})=>{this.saveBtn.disabled=!e||e===this.user.contactPhone}),this.modalOpen=!0}savePhone(){return V(this,null,function*(){if(this.editForm.invalid)return;let e=this.editForm.value.value.trim();this.isSaving=!0,this.saveBtn&&(this.saveBtn.loading=!0),this.cancelBtn&&(this.cancelBtn.disabled=!0),this.user.contactPhone=e,localStorage.setItem("user",JSON.stringify(this.user)),this.auth.currentUserSubject.next(this.user),yield this.profileSvc.updateProfile({phone:e}),this.snackBar.openFromComponent(re,{data:{message:"Tel\xE9fono actualizado correctamente",status:"success"},duration:5e3,panelClass:"success-snackbar",horizontalPosition:"center",verticalPosition:"bottom"}),this.isSaving=!1,this.saveBtn&&(this.saveBtn.loading=!1),this.cancelBtn&&(this.cancelBtn.disabled=!1),this.closeModal()})}getError(){let e=this.editForm.get("value");return e?.hasError("required")&&e.touched?"Campo obligatorio":""}closeModal(){this.modalOpen=!1}};a.\u0275fac=function(i){return new(i||a)(x(he),x(me),x(Le),x(un),x(ue),x(De))},a.\u0275cmp=w({type:a,selectors:[["app-profile-info"]],decls:37,vars:8,consts:[[1,"prof-page"],[3,"logged"],[1,"prof-main"],[1,"profile-wrapper"],[1,"section-title"],[1,"info-container"],[1,"info-card"],[1,"label"],[1,"value"],["mat-stroked-button","","color","primary",3,"click"],[3,"user"],["title","Ingres\xE1 tu nuevo n\xFAmero de tel\xE9fono",3,"buttons","close",4,"ngIf"],["title","Ingres\xE1 tu nuevo n\xFAmero de tel\xE9fono",3,"close","buttons"],["id","editPhoneForm",3,"formGroup"],["label","N\xFAmero de tel\xE9fono","type","tel","placeholder","+54 11 1234-5678","formControlName","value",3,"hasError","errorMessage"]],template:function(i,o){i&1&&(r(0,"div",0),b(1,"app-header",1),r(2,"main",2)(3,"section",3)(4,"h2",4)(5,"mat-icon"),p(6,"account_circle"),s(),p(7," Mi perfil "),s(),r(8,"p"),p(9," Para cambio de datos que no sea posible modificar desde aqu\xED, consulte por el formulario de contacto para mayor seguridad. "),s(),r(10,"div",5)(11,"mat-card",6)(12,"div",7),p(13,"Nombre de usuario"),s(),r(14,"div",8),p(15),s()(),r(16,"mat-card",6)(17,"div",7),p(18,"N\xFAmero de tel\xE9fono"),s(),r(19,"div",8),p(20),s(),r(21,"button",9),u("click",function(){return o.editPhone()}),p(22," Modificar "),s()()(),r(23,"div",5)(24,"mat-card",6)(25,"div",7),p(26,"Correo electr\xF3nico"),s(),r(27,"div",8),p(28),s()(),r(29,"mat-card",6)(30,"div",7),p(31,"Barrio de residencia"),s(),r(32,"div",8),p(33),s()()()(),b(34,"app-my-publishes",10),s(),b(35,"app-footer",1),y(36,ha,3,4,"app-default-modal",11),s()),i&2&&(c(),d("logged",!0),c(14),T(o.user.name),c(5),T(o.user.contactPhone||"\u2014"),c(8),T(o.user.email),c(5),T(o.countryService.getNameById(o.user.countryId)),c(),d("user",o.user),c(),d("logged",!0),c(),d("ngIf",o.modalOpen))},dependencies:[k,A,Be,Ae,Fe,Re,ze,Ve,_e,fe,Ue,je,Ne,bt,z,J,Y,W,Un],styles:[".profile-wrapper[_ngcontent-%COMP%]{font-family:Urbanist,sans-serif;color:#152047}.profile-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;padding-left:10px;margin-bottom:20px}.prof-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#dfe0d5}.prof-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:77vh;justify-content:center;padding:85px 15%;gap:60px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:12px;font-size:2.5rem;font-weight:700;margin-bottom:35px}.section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3.5rem;height:60px;width:60px}.info-container[_ngcontent-%COMP%]{display:flex;padding-left:10px;flex-direction:row;width:100%;justify-content:space-between}.info-card[_ngcontent-%COMP%]{border-radius:10px;width:48%;height:160px;box-shadow:4px 8px 16px #00000014;background-color:#f9f9ed;display:flex;margin-bottom:32px;flex-direction:column;gap:14px;padding:30px}.info-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1.4rem;color:#152047;font-weight:600}.info-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;color:#152047;font-weight:400}.info-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;background-color:#152047;color:#fff;min-width:120px;font-size:1.1rem;line-height:2.5rem}@media (max-width: 768px){.prof-main[_ngcontent-%COMP%]{padding:60px 8%;gap:40px}.section-title[_ngcontent-%COMP%]{font-size:2rem}.section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;height:50px;width:50px}.profile-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.info-container[_ngcontent-%COMP%]{flex-direction:column}.info-card[_ngcontent-%COMP%]{width:100%;height:auto}}@media (max-width: 480px){.prof-main[_ngcontent-%COMP%]{padding:40px 5%}.section-title[_ngcontent-%COMP%]{font-size:1.75rem}.section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;height:40px;width:40px}}"]});let n=a;return n})();var Ot=["*"],fa=["content"],_a=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ba=["mat-drawer","mat-drawer-content","*"];function va(n,a){if(n&1){let t=v();r(0,"div",1),u("click",function(){h(t);let i=g();return f(i._onBackdropClicked())}),s()}if(n&2){let t=g();E("mat-drawer-shown",t._isShowingBackdrop())}}function ya(n,a){n&1&&(r(0,"mat-drawer-content"),G(1,2),s())}var Ca=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],xa=["mat-sidenav","mat-sidenav-content","*"];function wa(n,a){if(n&1){let t=v();r(0,"div",1),u("click",function(){h(t);let i=g();return f(i._onBackdropClicked())}),s()}if(n&2){let t=g();E("mat-drawer-shown",t._isShowingBackdrop())}}function Ma(n,a){n&1&&(r(0,"mat-sidenav-content"),G(1,2),s())}var Pa=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var Sa=new B("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Ia}),Gt=new B("MAT_DRAWER_CONTAINER");function Ia(){return!1}var It=(()=>{class n extends Ee{_platform=_(ke);_changeDetectorRef=_(Q);_container=_(jt);constructor(){let t=_(q),e=_(ut),i=_(de);super(t,e,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:t,end:e}=this._container;return t!=null&&t.mode!=="over"&&t.opened||e!=null&&e.mode!=="over"&&e.opened}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(e,i){e&2&&(ot("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),E("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[ve([{provide:Ee,useExisting:n}]),Ye],ngContentSelectors:Ot,decls:1,vars:0,template:function(e,i){e&1&&(ne(),G(0))},encapsulation:2,changeDetection:0})}return n})(),Nt=(()=>{class n{_elementRef=_(q);_focusTrapFactory=_($i);_focusMonitor=_(Te);_platform=_(ke);_ngZone=_(de);_renderer=_(bi);_interactivityChecker=_(qi);_doc=_(we,{optional:!0});_container=_(Gt,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=K(t)}_disableClose=!1;get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=K(t)),this._autoFocus=t}_autoFocus;get opened(){return this._opened()}set opened(t){this.toggle(K(t))}_opened=tt(!1);_openedVia;_animationStarted=new L;_animationEnd=new L;openedChange=new P(!0);_openedStream=this.openedChange.pipe(X(t=>t),Et(()=>{}));openedStart=this._animationStarted.pipe(X(()=>this.opened),Dt(void 0));_closedStream=this.openedChange.pipe(X(t=>!t),Et(()=>{}));closedStart=this._animationStarted.pipe(X(()=>!this.opened),Dt(void 0));_destroyed=new L;onPositionChanged=new P;_content;_modeChanged=new L;_injector=_(ie);_changeDetectorRef=_(Q);constructor(){this.openedChange.pipe(M(this._destroyed)).subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement;Kt(t,"keydown").pipe(X(e=>e.keyCode===27&&!this.disableClose&&!mt(e)),M(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()})),this._eventCleanups=[this._renderer.listen(t,"transitionrun",this._handleTransitionEvent),this._renderer.listen(t,"transitionend",this._handleTransitionEvent),this._renderer.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),l(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),l=this._renderer.listen(t,"mousedown",i)})),t.focus(e)}_focusByCssSelector(t,e){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,e)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Me(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,e){t&&e&&(this._openedVia=e);let i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,e,i){return t===this.opened?Promise.resolve(t?"open":"close"):(this._opened.set(t),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",t),!t&&e&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ii(1)).subscribe(l=>o(l?"open":"close"))}))}_setIsAnimating(t){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",t)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let e=this._elementRef.nativeElement,i=e.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,e)),i.appendChild(e)):this._anchor&&this._anchor.parentNode.insertBefore(e,this._anchor)}_handleTransitionEvent=t=>{let e=this._elementRef.nativeElement;t.target===e&&this._ngZone.run(()=>{t.type==="transitionrun"?this._animationStarted.next(t):(t.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(t))})};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(e&1&&F(fa,5),e&2){let o;S(o=I())&&(i._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){e&2&&($("align",null)("tabIndex",i.mode!=="side"?"-1":null),ot("visibility",!i._container&&!i.opened?"hidden":null),E("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ot,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){e&1&&(ne(),r(0,"div",1,0),G(2),s())},dependencies:[Ee],encapsulation:2,changeDetection:0})}return n})(),jt=(()=>{class n{_dir=_(gt,{optional:!0});_element=_(q);_ngZone=_(de);_changeDetectorRef=_(Q);_animationDisabled=ye();_transitionsEnabled=!1;_allDrawers;_drawers=new gi;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=K(t)}_autosize=_(Sa);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:K(t)}_backdropOverride;backdropClick=new P;_start;_end;_left;_right;_destroyed=new L;_doCheckSubject=new L;_contentMargins={left:null,right:null};_contentMarginChanges=new L;get scrollable(){return this._userContent||this._content}_injector=_(ie);constructor(){let t=_(ke),e=_(Ji);this._dir?.change.pipe(M(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),e.change().pipe(M(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&t.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Ft(this._allDrawers),M(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ft(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ti(10),M(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();t+=i,e-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")e+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();e+=i,t-=i}}t=t||null,e=e||null,(t!==this._contentMargins.left||e!==this._contentMargins.right)&&(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(M(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(M(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t.onPositionChanged.pipe(M(this._drawers.changes)).subscribe(()=>{Me({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(t){t._modeChanged.pipe(M(Jt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let e=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?e.add(i):e.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,o){if(e&1&&(Ie(o,It,5),Ie(o,Nt,5)),e&2){let l;S(l=I())&&(i._content=l.first),S(l=I())&&(i._allDrawers=l)}},viewQuery:function(e,i){if(e&1&&F(It,5),e&2){let o;S(o=I())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){e&2&&E("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ve([{provide:Gt,useExisting:n}])],ngContentSelectors:ba,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){e&1&&(ne(_a),N(0,va,1,2,"div",0),G(1),G(2,1),N(3,ya,2,0,"mat-drawer-content")),e&2&&(j(i.hasBackdrop?0:-1),c(3),j(i._content?-1:3))},dependencies:[It],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),kt=(()=>{class n extends It{static \u0275fac=(()=>{let t;return function(i){return(t||(t=it(n)))(i||n)}})();static \u0275cmp=w({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[ve([{provide:Ee,useExisting:n}]),Ye],ngContentSelectors:Ot,decls:1,vars:0,template:function(e,i){e&1&&(ne(),G(0))},encapsulation:2,changeDetection:0})}return n})(),Ut=(()=>{class n extends Nt{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=K(t)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Oe(t)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Oe(t)}_fixedBottomGap=0;static \u0275fac=(()=>{let t;return function(i){return(t||(t=it(n)))(i||n)}})();static \u0275cmp=w({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(e,i){e&2&&($("tabIndex",i.mode!=="side"?"-1":null)("align",null),ot("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),E("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side")("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ve([{provide:Nt,useExisting:n}]),Ye],ngContentSelectors:Ot,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){e&1&&(ne(),r(0,"div",1,0),G(2),s())},dependencies:[Ee],encapsulation:2,changeDetection:0})}return n})(),$n=(()=>{class n extends jt{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let t;return function(i){return(t||(t=it(n)))(i||n)}})();static \u0275cmp=w({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,o){if(e&1&&(Ie(o,kt,5),Ie(o,Ut,5)),e&2){let l;S(l=I())&&(i._content=l.first),S(l=I())&&(i._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){e&2&&E("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[ve([{provide:Gt,useExisting:n},{provide:jt,useExisting:n}]),Ye],ngContentSelectors:xa,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){e&1&&(ne(Ca),N(0,wa,1,2,"div",0),G(1),G(2,1),N(3,Ma,2,0,"mat-sidenav-content")),e&2&&(j(i.hasBackdrop?0:-1),c(3),j(i._content?-1:3))},dependencies:[kt],styles:[Pa],encapsulation:2,changeDetection:0})}return n})(),Qn=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ce({type:n});static \u0275inj=le({imports:[ae,Ke,Ke,ae]})}return n})();var Oa=["button"],Ta=["*"];function Ea(n,a){if(n&1&&(r(0,"div",2),b(1,"mat-pseudo-checkbox",6),s()),n&2){let t=g();c(),d("disabled",t.disabled)}}var Da=new B("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Fa});function Fa(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Ra=new B("MatButtonToggleGroup");var Ht=class{source;value;constructor(a,t){this.source=a,this.value=t}};var Aa=(()=>{class n{_changeDetectorRef=_(Q);_elementRef=_(q);_focusMonitor=_(Te);_idGenerator=_(pt);_animationDisabled=ye();_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex()}set tabIndex(t){this._tabIndex.set(t)}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new P;constructor(){_(Hi).load(Zi);let t=_(Ra,{optional:!0}),e=_(new Ii("tabindex"),{optional:!0})||"",i=_(Da,{optional:!0});this._tabIndex=tt(parseInt(e)||0),this.buttonToggleGroup=t,this.appearance=i&&i.appearance?i.appearance:"standard",this.disabledInteractive=i?.disabledInteractive??!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationDisabled||this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let e=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);e&&(e.tabIndex=-1),this.tabIndex=0}this.change.emit(new Ht(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(e&1&&F(Oa,5),e&2){let o;S(o=I())&&(i._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(e,i){e&1&&u("focus",function(){return i.focus()}),e&2&&($("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),E("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",oe],appearance:"appearance",checked:[2,"checked","checked",oe],disabled:[2,"disabled","disabled",oe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",oe]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:Ta,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(e,i){if(e&1){let o=v();ne(),r(0,"button",1,0),u("click",function(){return h(o),f(i._onButtonClick())}),N(2,Ea,2,1,"div",2),r(3,"span",3),G(4),s()(),b(5,"span",4)(6,"span",5)}if(e&2){let o=U(1);d("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),$("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),c(2),j(i.buttonToggleGroup&&(!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator||i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),c(4),d("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Yi,dn],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mat-button-toggle-legacy-shape);transform:translateZ(0)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-button-toggle-legacy-text-color);font-family:var(--mat-button-toggle-legacy-label-text-font);font-size:var(--mat-button-toggle-legacy-label-text-size);line-height:var(--mat-button-toggle-legacy-label-text-line-height);font-weight:var(--mat-button-toggle-legacy-label-text-weight);letter-spacing:var(--mat-button-toggle-legacy-label-text-tracking);--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-legacy-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-legacy-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-button-toggle-legacy-selected-state-text-color);background-color:var(--mat-button-toggle-legacy-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-button-toggle-legacy-disabled-state-text-color);background-color:var(--mat-button-toggle-legacy-disabled-state-background-color);--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-legacy-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-button-toggle-legacy-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-button-toggle-background-color, transparent);font-family:var(--mat-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-button-toggle-legacy-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-button-toggle-legacy-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius: var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return n})(),Wn=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ce({type:n});static \u0275inj=le({imports:[ae,Xi,Aa,ae]})}return n})();var Yn=(()=>{let a=class a{constructor(e,i){this.fb=e,this.countrySrv=i,this.initialFilters={},this.apply=new P,this.clear=new P,this.typesOptions=[{value:"PRODUCTO",label:"Producto"},{value:"SERVICIO",label:"Servicio"},{value:"INMUEBLE",label:"Inmueble"},{value:"VEHICULO",label:"Veh\xEDculo"},{value:"MUEBLE",label:"Mueble"}],this.conditionOptions=[{value:2,label:"Nuevo"},{value:1,label:"Usado"}],this.distanceOptions=[{value:10,label:"Menos de 10 km"},{value:15,label:"Menos de 15 km"},{value:30,label:"Menos de 30 km"},{value:60,label:"Menos de 60 km"}],this.countryOptions=[]}ngOnInit(){this.buildForm(),this.loadCountries()}buildForm(){this.form=this.fb.group({searchTerm:[this.initialFilters.searchTerm??""],type:[this.initialFilters.type??""],countryId:[this.initialFilters.countryId??null],brandFilter:[this.initialFilters.brandFilter??""],conditionFilter:[this.initialFilters.conditionFilter??null],minPrice:[this.initialFilters.minPrice??null,[O.min(1),O.max(99999999)]],maxPrice:[this.initialFilters.maxPrice??null,[O.min(1),O.max(99999999)]],maxDistanceKm:[this.initialFilters.maxDistanceKm??null],createdFrom:[this.initialFilters.createdFrom??null],createdTo:[this.initialFilters.createdTo??null],acceptsCash:[this.initialFilters.acceptsCash??!1],acceptsCard:[this.initialFilters.acceptsCard??!1],acceptsTransfer:[this.initialFilters.acceptsTransfer??!1],acceptsBarter:[this.initialFilters.acceptsBarter??!1]})}ngOnChanges(e){e.initialFilters&&!e.initialFilters.firstChange&&this.form.patchValue(this.initialFilters)}loadCountries(){let e=this.countrySrv.getCached();e.length?this.countryOptions=e.map(i=>({value:i.id,label:i.name})):this.countrySrv.loadCountries().subscribe(i=>{this.countryOptions=i.map(o=>({value:o.id,label:o.name}))})}emitFilters(){if(this.form.invalid){this.form.markAllAsTouched();return}let e=this.form.value,i=$e(H({},e),{conditionFilter:e.conditionFilter!=null?Number(e.conditionFilter):void 0,maxDistanceKm:e.maxDistanceKm!=null?Number(e.maxDistanceKm):void 0,minPrice:e.minPrice!=null?Number(e.minPrice):void 0,maxPrice:e.maxPrice!=null?Number(e.maxPrice):void 0});this.apply.emit(i)}reset(){this.form.reset()}};a.\u0275fac=function(i){return new(i||a)(x(Le),x(De))},a.\u0275cmp=w({type:a,selectors:[["app-search-filters"]],inputs:{initialFilters:"initialFilters"},outputs:{apply:"apply",clear:"clear"},features:[mi],decls:36,vars:10,consts:[[1,"filters-form",3,"keydown.enter","formGroup"],["type","text","label","Buscar art\xEDculos","placeholder","\xBFQu\xE9 buscas?","formControlName","searchTerm"],[1,"section-divider"],["type","radio","label","Condici\xF3n","placeholder","Elige uno","formControlName","conditionFilter",3,"options"],[1,"price-range"],["type","money","label","Precio m\xEDnimo","placeholder","0","formControlName","minPrice",3,"hasError","errorMessage"],["type","money","label","Precio m\xE1ximo","placeholder","0","formControlName","maxPrice",3,"hasError","errorMessage"],["type","radio","label","Distancia","placeholder","Elige uno","formControlName","maxDistanceKm",3,"options"],["type","select","label","Tipo","placeholder","Selecciona tipo","formControlName","type",3,"options"],["type","select","label","Barrio","placeholder","Selecciona barrio","formControlName","countryId",3,"options"],["type","text","label","Marca","placeholder","p.ej. Nike","formControlName","brandFilter"],[1,"date-range"],["type","date","label","Desde","placeholder","dd/mm/aaaa","formControlName","createdFrom"],["type","date","label","Hasta","placeholder","dd/mm/aaaa","formControlName","createdTo"],[1,"payment-methods"],["type","checkbox","formControlName","acceptsCash"],["type","checkbox","formControlName","acceptsCard"],["type","checkbox","formControlName","acceptsTransfer"],["type","checkbox","formControlName","acceptsBarter"],[1,"actions"],["mat-flat-button","","color","primary","type","button",3,"click","disabled"],["mat-button","","type","button",3,"click"]],template:function(i,o){i&1&&(r(0,"form",0),u("keydown.enter",function(){return o.emitFilters()}),b(1,"app-form-field",1)(2,"hr",2)(3,"app-form-field",3)(4,"hr",2),r(5,"div",4),b(6,"app-form-field",5)(7,"app-form-field",6),s(),b(8,"hr",2)(9,"app-form-field",7)(10,"hr",2)(11,"app-form-field",8)(12,"hr",2)(13,"app-form-field",9)(14,"hr",2)(15,"app-form-field",10)(16,"hr",2),r(17,"div",11),b(18,"app-form-field",12)(19,"app-form-field",13),s(),b(20,"hr",2),r(21,"div",14)(22,"app-form-field",15),p(23," Efectivo "),s(),r(24,"app-form-field",16),p(25," Tarjeta "),s(),r(26,"app-form-field",17),p(27," Transferencia "),s(),r(28,"app-form-field",18),p(29," Trueque "),s()(),b(30,"hr",2),r(31,"div",19)(32,"button",20),u("click",function(){return o.emitFilters()}),p(33," Filtrar "),s(),r(34,"button",21),u("click",function(){return o.reset()}),p(35,"Limpiar"),s()()()),i&2&&(d("formGroup",o.form),c(3),d("options",o.conditionOptions),c(3),d("hasError",o.form.get("minPrice").invalid&&o.form.get("minPrice").touched)("errorMessage","Entre 1 y 99\u202F999\u202F999"),c(),d("hasError",o.form.get("maxPrice").invalid&&o.form.get("maxPrice").touched)("errorMessage","Entre 1 y 99\u202F999\u202F999"),c(2),d("options",o.distanceOptions),c(2),d("options",o.typesOptions),c(2),d("options",o.countryOptions),c(19),d("disabled",o.form.invalid))},dependencies:[k,Be,Ae,Fe,Re,ze,Ve,ft,yt,_n,be,_t,bn,vn,Ct,z,J,Ne],styles:['@charset "UTF-8";.filters-form[_ngcontent-%COMP%]{width:360px;padding:1.25rem;display:flex;flex-direction:column;gap:1.5rem;border:1px solid #152047;border-radius:8px;box-shadow:0 4px 8px #1520471a}@media (max-width: 768px){.filters-form[_ngcontent-%COMP%]{width:100%}}.filters-form[_ngcontent-%COMP%]   .section-divider[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #152047;margin:0}.filters-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0 0 .5rem}.filters-form[_ngcontent-%COMP%]     app-form-field{margin-bottom:0!important}.filters-form[_ngcontent-%COMP%]     app-form-field   .form-input, .filters-form[_ngcontent-%COMP%]     app-form-field   .form-select, .filters-form[_ngcontent-%COMP%]     app-form-field   .mat-select-trigger{font-size:.9rem!important;padding:.45rem .6rem!important}.filters-form[_ngcontent-%COMP%]     app-form-field   .form-label{font-size:1.05rem;font-weight:500;margin-bottom:.25rem}.filters-form[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.filters-form[_ngcontent-%COMP%]   .payment-methods[_ngcontent-%COMP%]     mat-checkbox .mat-checkbox-label{font-size:.8rem}.filters-form[_ngcontent-%COMP%]     .radio-option span{font-size:.95rem;color:#000;font-weight:350}.filters-form[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:.85rem}.filters-form[_ngcontent-%COMP%]   .price-range[_ngcontent-%COMP%], .filters-form[_ngcontent-%COMP%]   .date-range[_ngcontent-%COMP%]{display:flex;gap:.75rem}@media (max-width: 600px){.filters-form[_ngcontent-%COMP%]   .price-range[_ngcontent-%COMP%], .filters-form[_ngcontent-%COMP%]   .date-range[_ngcontent-%COMP%]{flex-direction:column}}.filters-form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}']});let n=a;return n})();var za=["drawer"];function Va(n,a){if(n&1&&(r(0,"b"),p(1),s()),n&2){let t=g();c(),R('": ',t.current.searchTerm,'"')}}function La(n,a){n&1&&(r(0,"div",11),b(1,"mat-spinner",12),s())}function Ba(n,a){if(n&1){let t=v();r(0,"div",27),u("click",function(i){return h(t),f(i.stopPropagation())}),r(1,"app-list-categories",28),u("categorySelected",function(i){h(t);let o=g().index,l=g(2);return f(l.onCategorySelected(o,i))}),s()()}}function Na(n,a){if(n&1){let t=v();r(0,"div",24)(1,"app-button-categories",25),u("toggle",function(){let i=h(t).index,o=g(2);return f(o.toggleCategoryList(i))})("clear",function(){let i=h(t).index,o=g(2);return f(o.clearCategory(i))}),s(),y(2,Ba,2,0,"div",26),s()}if(n&2){let t=a.$implicit,e=a.index,i=g(2);c(),d("categoryName",t.name),c(),d("ngIf",i.showCategoryList[e])}}function ja(n,a){if(n&1){let t=v();r(0,"button",29),u("click",function(){h(t);let i=g(2);return f(i.setSort("DESC"))}),r(1,"mat-icon"),p(2,"arrow_downward"),s(),p(3," M\xE1s reciente "),s()}}function Ga(n,a){if(n&1){let t=v();r(0,"button",29),u("click",function(){h(t);let i=g(2);return f(i.setSort("ASC"))}),r(1,"mat-icon"),p(2,"arrow_upward"),s(),p(3," M\xE1s antiguo "),s()}}function Ua(n,a){if(n&1&&b(0,"app-product-card-small",32),n&2){let t=a.$implicit;d("product",t)}}function Ha(n,a){if(n&1&&(r(0,"div",30),y(1,Ua,1,1,"app-product-card-small",31),s()),n&2){let t=g(2);c(),d("ngForOf",t.products)("ngForTrackBy",t.trackById)}}function qa(n,a){n&1&&(r(0,"p",33)(1,"mat-icon"),p(2,"inventory_2"),s(),p(3," Sin resultados "),s())}function $a(n,a){if(n&1){let t=v();r(0,"div",34)(1,"button",35),u("click",function(){h(t);let i=g(2);return f(i.prev())}),r(2,"mat-icon"),p(3,"chevron_left"),s(),p(4," Anterior "),s(),r(5,"span",36),p(6),s(),r(7,"button",35),u("click",function(){h(t);let i=g(2);return f(i.next())}),p(8," Siguiente "),r(9,"mat-icon"),p(10,"chevron_right"),s()()()}if(n&2){let t=g(2);c(),d("disabled",t.page===1),c(5),R("P\xE1gina ",t.page),c(),d("disabled",!t.hasMore)}}function Qa(n,a){if(n&1){let t=v();r(0,"div",13)(1,"aside",14)(2,"app-search-filters",15),u("apply",function(i){h(t);let o=g();return f(o.onApplyFilters(i))})("clear",function(){h(t);let i=g();return f(i.onClearFilters())}),s()(),r(3,"div",16)(4,"div",17)(5,"div",18),y(6,Na,3,2,"div",19),s(),r(7,"div",20),y(8,ja,4,0,"button",21)(9,Ga,4,0,"button",21),s()(),y(10,Ha,2,2,"div",22)(11,qa,4,0,"ng-template",null,1,st)(13,$a,11,3,"div",23),s()()}if(n&2){let t=U(12),e=g();c(2),d("initialFilters",e.current),c(4),d("ngForOf",e.categoriesSlots),c(2),d("ngIf",e.sortOrder==="ASC"),c(),d("ngIf",e.sortOrder==="DESC"),c(),d("ngIf",e.products.length)("ngIfElse",t),c(3),d("ngIf",e.products.length)}}var Zn=(()=>{let a=class a{constructor(e,i,o,l,m,C,Z){this.router=e,this.route=i,this.listingSrv=o,this.categorySrv=l,this.countrySrv=m,this.cdr=C,this.authService=Z,this.request={},this.current={},this.products=[],this.page=1,this.hasMore=!1,this.pageSize=100,this.isLoading=!1,this.sortOrder="DESC",this.categoriesList=[],this.countriesList=[],this.selectedFilters=[],this.categoriesSlots=[],this.showCategoryList=[]}ngOnInit(){return V(this,null,function*(){this.categorySrv.getCached().length||(yield Qe(this.categorySrv.loadCategories())),this.categoriesList=this.categorySrv.getCached(),this.readStateAndLoad(),this.navSub=this.router.events.pipe(X(e=>e instanceof dt)).subscribe(()=>this.readStateAndLoad())})}ngOnDestroy(){this.navSub.unsubscribe()}readStateAndLoad(){let e=window.history.state;if(e.request)this.request=e.request;else{let i=this.route.snapshot.queryParamMap,o={},l=i.get("searchTerm");l&&(o.searchTerm=l);let m=i.getAll("categoryIds");m.length&&(o.categoryIds=m),this.request=o}this.current=H({},this.request),this.initCategorySlots(),this.loadListings(),window.scrollTo(0,0)}onApplyFilters(e){this.patchCategoriesToCurrent(),this.current=$e(H(H({},this.current),e),{countryId:e.countryId?Number(e.countryId):void 0,page:1,sortOrder:this.sortOrder}),this.current.maxDistanceKm!=null?this.current.centerCountryId=this.authService.getCurrentCountryId()||void 0:delete this.current.centerCountryId,this.loadListings(),this.drawer?.close()}onClearFilters(){this.current={page:1,sortOrder:this.sortOrder},this.loadListings(),this.drawer?.close()}openFilters(){this.drawer?.open()}setSort(e){this.sortOrder!==e&&(this.sortOrder=e,this.current.sortOrder=e,this.loadListings())}onSortChange(e){this.sortOrder=e,this.current.sortOrder=e,this.loadListings()}next(){return V(this,null,function*(){this.hasMore&&(this.current.page=(this.current.page??1)+1,yield this.loadListings(),window.scrollTo({top:0,behavior:"smooth"}))})}prev(){return V(this,null,function*(){(this.current.page??1)<=1||(this.current.page--,yield this.loadListings(),window.scrollTo({top:0,behavior:"smooth"}))})}loadListings(){let e=this.pageSize;this.isLoading=!0,this.cdr.markForCheck(),this.listingSrv.listListings($e(H({},this.current),{pageSize:e})).pipe(ni(()=>{this.isLoading=!1,this.cdr.markForCheck()})).subscribe({next:i=>{this.products=i.data,this.hasMore=i.data.length===e,this.page=this.current.page??1,this.updateSelectedFilters(),this.cdr.markForCheck()},error:()=>{this.cdr.markForCheck()}})}updateSelectedFilters(){let e=this.current,i=[];if(e.searchTerm&&i.push(`"${e.searchTerm}"`),(e.categoryIds||[]).forEach(l=>{let m=this.categoriesList.find(C=>C.id===l);m&&i.push(m.name)}),e.conditionFilter&&i.push(e.conditionFilter===2?"Nuevo":"Usado"),e.minPrice!=null||e.maxPrice!=null){let l=e.minPrice!=null?`$${e.minPrice}`:"",m=e.maxPrice!=null?`$${e.maxPrice}`:"";i.push(m?`${l} a ${m}`:l)}if(e.maxDistanceKm&&i.push(`Menos de ${e.maxDistanceKm}km`),e.type&&i.push(e.type),e.countryId){let l=this.countriesList.find(m=>m.id===e.countryId);l&&i.push(l.name)}e.brandFilter&&i.push(e.brandFilter),[["acceptsCash","Efectivo"],["acceptsCard","Tarjeta"],["acceptsTransfer","Transferencia"],["acceptsBarter","Trueque"]].forEach(([l,m])=>{e[l]&&i.push(m)}),this.selectedFilters=i}trackById(e,i){return i.id}initCategorySlots(){return V(this,null,function*(){let e=this.current.categoryIds??[];this.categoriesSlots=e.map(i=>{let o=this.categoriesList.find(l=>l.id===i);return{idPath:i,name:o?.name??""}}),this.categoriesSlots.length<10&&this.categoriesSlots.push({idPath:"",name:""}),this.showCategoryList=this.categoriesSlots.map(()=>!1)})}toggleCategoryList(e){this.showCategoryList[e]=!this.showCategoryList[e]}clearCategory(e){this.categoriesSlots.splice(e,1),this.showCategoryList.splice(e,1),this.categoriesSlots=this.categoriesSlots.filter(i=>i.idPath),this.categoriesSlots.length<10&&(this.categoriesSlots.push({idPath:"",name:""}),this.showCategoryList.push(!1)),this.patchCategoriesToCurrent(),this.loadListings()}onCategorySelected(e,i){if(this.categoriesSlots.some((l,m)=>m!==e&&l.idPath===i.idPath)){this.categoriesSlots[e]={idPath:"",name:""},this.showCategoryList[e]=!1;return}this.categoriesSlots[e]=i,this.showCategoryList[e]=!1,e===this.categoriesSlots.length-1&&this.categoriesSlots.length<10&&i.idPath&&(this.categoriesSlots.push({idPath:"",name:""}),this.showCategoryList.push(!1)),this.patchCategoriesToCurrent()}patchCategoriesToCurrent(){this.current.categoryIds=this.categoriesSlots.filter(e=>e.idPath).map(e=>e.idPath)}onEnterKey(e){e.preventDefault(),this.onApplyFilters(this.current)}};a.\u0275fac=function(i){return new(i||a)(x(me),x(Li),x(He),x(rn),x(De),x(Q),x(he))},a.\u0275cmp=w({type:a,selectors:[["app-search"]],viewQuery:function(i,o){if(i&1&&F(za,5),i&2){let l;S(l=I())&&(o.drawer=l.first)}},hostBindings:function(i,o){i&1&&u("keydown.enter",function(m){return o.onEnterKey(m)},hi)},inputs:{request:"request"},decls:19,vars:4,consts:[["drawer",""],["noResults",""],[1,"search-container"],["mode","over",1,"filters-drawer"],[3,"apply","clear","initialFilters"],[1,"search-main"],[1,"search-title"],["mat-icon-button","","aria-label","Mostrar filtros",1,"hamburger",3,"click"],[4,"ngIf"],["class","loading-overlay",4,"ngIf"],["class","search-body",4,"ngIf"],[1,"loading-overlay"],["diameter","90"],[1,"search-body"],[1,"filters-sidebar"],[1,"desktop-only",3,"apply","clear","initialFilters"],[1,"content-column"],[1,"content-header"],[1,"categories-slots"],["class","cat-slot",4,"ngFor","ngForOf"],[1,"sort-control"],["mat-button","",3,"click",4,"ngIf"],["class","products-grid",4,"ngIf","ngIfElse"],["class","pagination",4,"ngIf"],[1,"cat-slot"],[3,"toggle","clear","categoryName"],["class","dropdown-wrapper",3,"click",4,"ngIf"],[1,"dropdown-wrapper",3,"click"],["orientation","left",1,"list-categories",3,"categorySelected"],["mat-button","",3,"click"],[1,"products-grid"],[3,"product",4,"ngFor","ngForOf","ngForTrackBy"],[3,"product"],[1,"no-results"],[1,"pagination"],["mat-stroked-button","",3,"click","disabled"],[1,"page-indicator"]],template:function(i,o){if(i&1){let l=v();b(0,"app-header"),r(1,"mat-sidenav-container",2)(2,"mat-sidenav",3,0)(4,"app-search-filters",4),u("apply",function(C){return h(l),f(o.onApplyFilters(C))})("clear",function(){return h(l),f(o.onClearFilters())}),s()(),r(5,"mat-sidenav-content")(6,"main",5)(7,"div",6)(8,"button",7),u("click",function(){return h(l),f(o.openFilters())}),r(9,"mat-icon"),p(10,"menu"),s()(),r(11,"mat-icon"),p(12,"search"),s(),r(13,"h1"),p(14," B\xFAsqueda"),y(15,Va,2,1,"b",8),s()(),y(16,La,2,0,"div",9)(17,Qa,14,7,"div",10),s()()(),b(18,"app-footer")}i&2&&(c(4),d("initialFilters",o.current),c(11),d("ngIf",o.current.searchTerm),c(),d("ngIf",o.isLoading),c(),d("ngIf",!o.isLoading))},dependencies:[k,pe,A,Gi,Y,W,z,J,ge,Cn,Wn,Qn,Ut,$n,kt,Ue,je,xn,Yn,wt,xt,te,ee],styles:[".search-container[_ngcontent-%COMP%]{flex:1;background:#dfe0d5;padding:1rem 1.5%}.search-main[_ngcontent-%COMP%]{padding:1rem 0}.categories-slots[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:70%;gap:.5rem}.list-categories[_ngcontent-%COMP%]{position:absolute;z-index:3000}.search-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;padding:0 1rem;margin-bottom:1.5rem}.search-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem;letter-spacing:2px;color:#152047;font-weight:600;margin-bottom:0}.search-title[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:750}.search-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.7rem;color:#152047}.search-body[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:1rem}.filters-sidebar[_ngcontent-%COMP%]{width:360px;flex-shrink:0}@media (max-width: 900px){.filters-sidebar[_ngcontent-%COMP%]{display:none}}.loading-overlay[_ngcontent-%COMP%]{width:100%;min-height:67vh;display:flex;justify-content:center;align-items:center}.content-column[_ngcontent-%COMP%]{flex:1;display:flex;gap:2rem;flex-direction:column}.content-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.sort-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-weight:500}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:3rem}.no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:2rem 0;color:var(--text-secondary)}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin:2rem 0}.pagination[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]{font-weight:600}.filters-drawer[_ngcontent-%COMP%]{width:300px}@media (min-width: 900px){.filters-drawer[_ngcontent-%COMP%]{display:none}}@media (max-width: 900px){.desktop-only[_ngcontent-%COMP%]{display:none}}.hamburger[_ngcontent-%COMP%]{display:none;margin-left:.5rem}@media (max-width: 900px){.hamburger[_ngcontent-%COMP%]{display:inline-flex}}"],changeDetection:0});let n=a;return n})();var Xn=[{path:"",redirectTo:"/home",pathMatch:"full",title:"Redirigir a Inicio - Privium",data:{description:"Redirige autom\xE1ticamente a la p\xE1gina de inicio de Privium.",keywords:"redirect, inicio, Privium"}},{path:"auth",loadChildren:()=>import("./chunk-R544MDV7.js").then(n=>n.authRoutes),title:"Iniciar Sesi\xF3n - Privium",data:{description:"Accede a tu cuenta de Privium para comprar y vender en tu barrio cerrado.",keywords:"iniciar sesi\xF3n, login, autenticaci\xF3n, Privium"}},{path:"home",loadChildren:()=>import("./chunk-XSRDPOD3.js").then(n=>n.homeRoutes),canActivate:[Ce],title:"Inicio - Privium Marketplace",data:{description:"Descubre productos \xFAnicos en tu barrio cerrado. Marketplace exclusivo y seguro para tu comunidad.",keywords:"marketplace, barrios cerrados, productos, compra, venta, Privium"}},{path:"search",component:Zn,canActivate:[Ce],title:"Buscar - Privium Marketplace",data:{description:"Busca publicaciones en tu barrio cerrado con filtros personalizados.",keywords:"buscar, filtros, barrio, productos, Privium"}},{path:"products",loadChildren:()=>import("./chunk-IRF35WHC.js").then(n=>n.productRoutes),canActivate:[Ce],title:"Productos - Privium Marketplace",data:{description:"Explora todos los productos disponibles en Privium.",keywords:"productos, cat\xE1logo, Privium, marketplace"}},{path:"publish",loadChildren:()=>import("./chunk-HRCOTGPW.js").then(n=>n.publishRoutes),canActivate:[Ce],title:"Publicar - Privium",data:{description:"Publica un nuevo producto o servicio en Privium y llega a tu comunidad.",keywords:"publicar, venta, servicio, Privium"}},{path:"perfil/:userId",component:qn,canActivate:[Ce],title:"Mi Perfil - Privium",data:{description:"Visualiza y edita la informaci\xF3n de tu perfil en Privium.",keywords:"perfil, usuario, cuenta, Privium"}},{path:"admin/residence-verifications",component:zn,canActivate:[Ce],title:"Verificaciones de Residencia - Privium",data:{description:"Gestiona y revisa las verificaciones de residencia de los usuarios.",keywords:"verificaciones, residencia, administraci\xF3n, Privium"}},{path:"**",redirectTo:"/home",title:"P\xE1gina No Encontrada - Privium",data:{description:"Ruta no v\xE1lida. Redirige a la p\xE1gina de inicio.",keywords:"404, not found, Privium"}}];var Wa=/\/auth\//,Kn=(n,a)=>{if(Wa.test(n.url))return a(n);let t=_(he),e=t.getToken(),i=t.getCurrentUserId();if(!e&&!i)return a(n);let o={};e&&(o.Authorization=`Bearer ${e}`),i&&(o["User-Id"]=String(i));let l=n.clone({setHeaders:o});return a(l)};var Jn=(n,a)=>{let t=_(ue);return a(n).pipe(ei(e=>{let i="Ha ocurrido un error inesperado";return e.error?.messages&&e.error.messages[0]?.message&&(i=e.error.messages[0].message),t.openFromComponent(re,{data:{message:i,status:"error"},duration:5e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error","offset-80"]}),Zt(()=>e)}))};Fi(In,{providers:[Ni(Xn,ji({onSameUrlNavigation:"reload"})),zi(Vi([Kn,Jn])),wn(),si(Ri,on),ct,lt]}).catch(n=>console.error(n));
