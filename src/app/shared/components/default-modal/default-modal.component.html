<div class="modal-backdrop" (click)="onClose()"></div>
<div class="modal-container" [ngStyle]="{ 'max-width': width }">
  <header class="modal-header">
    <h2>{{ title }}</h2>
    <button
      mat-icon-button
      class="close-btn"
      (click)="onClose()"
      aria-label="Cerrar"
    >
      <mat-icon>close</mat-icon>
    </button>
  </header>

  <div class="modal-body">
    <ng-content></ng-content>
  </div>

  <footer class="modal-footer" *ngIf="buttons?.length">
    <button
      *ngFor="let btn of buttons"
      [ngClass]="[
        btn.type === 'primary' ? 'btn-primary' : 'btn-secondary',
        btn.loading ? 'loading' : ''
      ]"
      (click)="btn.action()"
      [attr.type]="btn.form ? 'submit' : 'button'"
      [attr.form]="btn.form || null"
      [disabled]="btn.disabled || btn.loading"
    >
      <span>{{ btn.label }}</span>
      <mat-spinner
        *ngIf="btn.loading"
        diameter="20"
        class="btn-spinner"
      ></mat-spinner>
    </button>
  </footer>
</div>
