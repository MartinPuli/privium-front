<div
  class="categories-pane"
  [ngClass]="{
    'has-parent': parentId,
    'orientation-left': effectiveOrientation === 'left',
    'orientation-right': effectiveOrientation === 'right'
  }"
>
  <div class="scroll-body">
    <ng-container *ngFor="let cat of categories">
      <div class="category-item" (click)="select(cat)">
        <span class="label">{{ cat.name }}</span>

        <button
          *ngIf="hasChild(cat)"
          type="button"
          class="expand-btn"
          (click)="toggleExpand(cat); $event.stopPropagation()"
        >
          <mat-icon>
            {{
              !expandedMap[cat.id]
                ? (effectiveOrientation === 'left' ? 'chevron_left' : 'chevron_right')
                : (effectiveOrientation === 'left' ? 'chevron_right' : 'chevron_left')
            }}
          </mat-icon>
        </button>
      </div>

      <ng-container *ngIf="expandedMap[cat.id]">
        <app-list-categories
          class="submenu"
          [parentId]="cat.id"
          [path]="path ? path + '>' + cat.id : cat.id"
          [orientation]="orientation"           
          [autoOrientation]="!orientation && autoOrientation" 
          (categorySelected)="categorySelected.emit($event)"
        >
        </app-list-categories>
      </ng-container>
    </ng-container>
  </div>
</div>
